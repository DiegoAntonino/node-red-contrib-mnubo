# mnubo node-red SDK

Table of Content
================
 
[1. Introduction](#section1)

[2. Architecture](#section2) 

[3. Pre-requisites](#section3)

[4. Installation & Configuration](#section4) 

[5. Usage](#section5)

[6. Important notes](#section6) 

[7. Source code](#section7)

[8. Known limitations](#section8)

[9. References](#section9)

---

# <a name="section1"></a>1. Introduction

This is the implementation of the mnubo's SmartObjects functionality in the node-red environment.

Note that this package is also compatible with other node-red environments, like IBM Bluemix and AT&T Flow.

---
# <a name="section2"></a>2. Architecture

This is a front-end implementation of the https://www.npmjs.com/package/mnubo-sdk

Detailed info is available on the individual node in node-red. 

Here is a brief description of the nodes:

•	`mnubo config`: This is the Configuration Node that holds the mnubo's SmartObjects credential, all nodes need to have this configured.

•	`Auth`: This node is used to fetch the access token for communication with SmartObject. This node will also allow you to get the status about the token.

•	`Owners` : This node is used to handle the Owners Ingestion API: `Create`, `Update`, `Delete`, `Claim Object`, `unClaim Object`

•	`Objects` : This node is used to handle the Objects Ingestion API: `Create`, `Update`, `Delete`

•	`Events` : This node is used to handle the Events Ingestion API: `Send`, `SendFromDevice`

•	`Analytics` : This node is used to handle the Search API: `getDataset`, `getDatamodel`, `SearchQurery`

---

# <a name="section3"></a>3. Prerequisites

This is a node-red package, so it requires node-red, The minimum version of node-red supported is v0.10.10

To use the mnubo's SmartObjects nodes, you will need to have a valid mnubo account, with access granted on a namespace.
To obtain your unique namespace in the SmartObjects platform, contact sales@mnubo.com . Please use the subject title **node-red-contrinb-mnubo** and include in the body of the email the name of your company, contact name and phone number.

The Official reference API can be found in the following: [API documentation]

(https://smartobjects.mnubo.com/documentation/index.html).

This package also requires the following package:
- mnubo's SmartObjects Javascript SDK [mnubo-js-sdk](https://github.com/mnubo/mnubo-js-sdk)

Those packages will be installed automatically by npm, as they are dependent packages.

---

# <a name="section4"></a>4. Installation & Configuration

#### Linux installation

    sudo npm install --prefix ~/.node-red node-red-contrib-mnubo
    
#### Windows installation (using Cygwin)

    npm install --prefix ~/.node-red node-red-contrib-mnubo
    mkdir %homepath%/.node-red/nodes
    cp -rp %homepath%/node_modules/node-red-contrib-mnubo %homepath%/.node-red/nodes/

#### AT&T flow

Note that this node is also compatible with the AT&T Flow, to use it in flow, just edit the package.json in your flow project, and add this node in the depedency:

    "dependencies":{"node-red-contrib-mnubo":"^1.0.3"}

        Then, when you will " enter the Online mode", you should have access to the mnubo nodes.

---

# <a name="section5"></a>5. Usage

## Examples

#### Example 1: Quick Demo

Here is a quick demo that shows how to authenticate, create owner, update owner, create object, update object, send event, do a basicSearchQuery, delete the object, delete the owner:

```
[{"id":"b362a199.020ab","type":"tab","label":"Flow 1"},{"id":"8934ea26.c3d668","type":"mnubo auth","z":"b362a199.020ab","name":"","mnuboconfig":"7e770dbf.06e484","x":420,"y":40,"wires":[["91d2dd4d.28981"]]},{"id":"72ac6387.e79f9c","type":"inject","z":"b362a199.020ab","name":"","topic":"Test All","payload":"","payloadType":"none","repeat":"","crontab":"","once":false,"x":250,"y":40,"wires":[["8934ea26.c3d668"]]},{"id":"5b9a1b63.c2cd44","type":"debug","z":"b362a199.020ab","name":"OK","active":true,"console":"false","complete":"payload","x":904,"y":178,"wires":[]},{"id":"91d2dd4d.28981","type":"switch","z":"b362a199.020ab","name":"Token != Bearer","property":"payload.type","propertyType":"msg","rules":[{"t":"neq","v":"Bearer","vt":"str"},{"t":"eq","v":"Bearer","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":626,"y":41,"wires":[["451bb488.5c195c"],["af3b184e.caa968","5b6440f8.ca212"]]},{"id":"5dc9b777.fafb58","type":"debug","z":"b362a199.020ab","name":"Error","active":true,"console":"false","complete":"payload","x":905,"y":147,"wires":[]},{"id":"6c87194b.ca63e8","type":"mnubo owners","z":"b362a199.020ab","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"","x":494,"y":153,"wires":[["2397da03.bb8476"]]},{"id":"e6a96c9a.7dd62","type":"mnubo owners","z":"b362a199.020ab","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"delete","inputtext":"","x":490,"y":1240,"wires":[["388d33a1.cb328c"]]},{"id":"451bb488.5c195c","type":"debug","z":"b362a199.020ab","name":"Error","active":true,"console":"false","complete":"payload","x":912,"y":28,"wires":[]},{"id":"af3b184e.caa968","type":"debug","z":"b362a199.020ab","name":"OK","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":910,"y":60,"wires":[]},{"id":"61c37fd3.273fa","type":"debug","z":"b362a199.020ab","name":"Error","active":true,"console":"false","complete":"payload","x":890,"y":1238,"wires":[]},{"id":"1d3ef699.6980b9","type":"debug","z":"b362a199.020ab","name":"OK","active":true,"console":"false","complete":"payload","x":887,"y":1270,"wires":[]},{"id":"43bb0cf4.bba394","type":"inject","z":"b362a199.020ab","name":"","topic":"clean","payload":"node-red-auto1@test.com","payloadType":"none","repeat":"","crontab":"","once":false,"x":125,"y":1236,"wires":[["bcdf8d49.f807a"]]},{"id":"30fe38e4.0e60d8","type":"inject","z":"b362a199.020ab","name":"","topic":"","payload":"","payloadType":"none","repeat":"","crontab":"","once":false,"x":84,"y":99,"wires":[["5b6440f8.ca212"]]},{"id":"71b1d584.cb768c","type":"mnubo owners","z":"b362a199.020ab","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":465,"y":228,"wires":[["224b56ab.201dea"]]},{"id":"2cf53314.bb05bc","type":"debug","z":"b362a199.020ab","name":"OK","active":true,"console":"false","complete":"payload","x":904,"y":252,"wires":[]},{"id":"92b5b7b1.28e528","type":"debug","z":"b362a199.020ab","name":"Error","active":true,"console":"false","complete":"payload","x":904,"y":220,"wires":[]},{"id":"7e773e8.d04d8c","type":"mnubo objects","z":"b362a199.020ab","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"","x":464,"y":313,"wires":[["fbdbfd1b.a82c8"]]},{"id":"e67232f6.beba5","type":"debug","z":"b362a199.020ab","name":"Error","active":true,"console":"false","complete":"payload","x":903,"y":299,"wires":[]},{"id":"45c8c90a.d21ec8","type":"debug","z":"b362a199.020ab","name":"OK","active":true,"console":"false","complete":"payload","x":903,"y":331,"wires":[]},{"id":"594de310.0fdc5c","type":"mnubo objects","z":"b362a199.020ab","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"delete","inputtext":"","x":481,"y":1156,"wires":[["f55044b5.b1cf78"]]},{"id":"61f87009.a948b","type":"inject","z":"b362a199.020ab","name":"","topic":"clean","payload":"node-red-auto1@test.com","payloadType":"none","repeat":"","crontab":"","once":false,"x":126,"y":1152,"wires":[["2de0ef71.06397"]]},{"id":"44a83616.395a98","type":"debug","z":"b362a199.020ab","name":"Error","active":true,"console":"false","complete":"payload","x":893,"y":1146,"wires":[]},{"id":"e2453200.60b79","type":"debug","z":"b362a199.020ab","name":"OK","active":true,"console":"false","complete":"payload","x":892,"y":1178,"wires":[]},{"id":"5ed59128.e2eda","type":"mnubo objects","z":"b362a199.020ab","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":454,"y":389,"wires":[["a14d3c25.055ae"]]},{"id":"de401402.16c9b8","type":"debug","z":"b362a199.020ab","name":"OK","active":true,"console":"false","complete":"payload","x":901,"y":408,"wires":[]},{"id":"86fd656e.df2ae8","type":"debug","z":"b362a199.020ab","name":"Error","active":true,"console":"false","complete":"payload","x":901,"y":376,"wires":[]},{"id":"cf4a19a5.ceac18","type":"mnubo events","z":"b362a199.020ab","name":"Default Settings","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":false,"x":460,"y":460,"wires":[["52a0a328.53da7c"]]},{"id":"7ba1c763.49b3c8","type":"mnubo events","z":"b362a199.020ab","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"[\n    \"node-red-device-auto1\", \n    [{\n\t\"x_event_type\": \"event_type_test\",\n\t\"x_timestamp\": \"2015-01-22T00:01:25-02:00\",\n\t\"x_latitude\": 57.876,\n\t\"x_longitude\": 57.876,\n\t\"temperature\": 15.2\n    }]\n]","reportResults":false,"objectsMustExist":false,"x":500,"y":660,"wires":[["aa753086.23606"]]},{"id":"e57abbf2.ebbe68","type":"debug","z":"b362a199.020ab","name":"OK","active":true,"console":"false","complete":"payload","x":890,"y":560,"wires":[]},{"id":"f9e6295d.110a08","type":"debug","z":"b362a199.020ab","name":"Error","active":true,"console":"false","complete":"payload","x":890,"y":480,"wires":[]},{"id":"8ac7dfc2.8f5f4","type":"debug","z":"b362a199.020ab","name":"OK","active":true,"console":"false","complete":"payload","x":890,"y":740,"wires":[]},{"id":"ae23bb1f.a635b8","type":"debug","z":"b362a199.020ab","name":"Error","active":true,"console":"false","complete":"payload","x":890,"y":680,"wires":[]},{"id":"f30579e2.cebd78","type":"mnubo analytics","z":"b362a199.020ab","name":"","mnuboconfig":"7e770dbf.06e484","searchtype":"SearchQuery","inputquery":"","x":413,"y":898,"wires":[["8b8301d6.84ecd"]]},{"id":"8e9c816d.455ef","type":"debug","z":"b362a199.020ab","name":"Error","active":true,"console":"false","complete":"payload","x":874,"y":875,"wires":[]},{"id":"ff022b41.ef8a98","type":"debug","z":"b362a199.020ab","name":"rows","active":true,"console":"false","complete":"payload.rows","x":874,"y":907,"wires":[]},{"id":"832a98bb.863e58","type":"function","z":"b362a199.020ab","name":"Create Owner","func":"msg.payload =\n{\n\t\"username\": flow.get(\"mnubo_variables\").owner1,\n\t\"x_password\": \"12345678\"\n};\n\nreturn msg;","outputs":1,"noerr":0,"x":299.4444694519043,"y":151.88886642456055,"wires":[["6c87194b.ca63e8"]]},{"id":"1c17543.c36efac","type":"function","z":"b362a199.020ab","name":"Create an Object","func":"msg.payload = {\n\t\"x_device_id\": flow.get(\"mnubo_variables\").object1,\n    \"x_object_type\": \"test\",\n\t\"x_owner\": {\n\t\t\"username\": flow.get(\"mnubo_variables\").owner1\n\t}\n};\nreturn msg;","outputs":1,"noerr":0,"x":269.4444465637207,"y":314.11110496520996,"wires":[["7e773e8.d04d8c"]]},{"id":"25de5b5d.d5cc54","type":"function","z":"b362a199.020ab","name":"Send an event","func":"msg.payload = [{\n\t\"x_object\": {\"x_device_id\": flow.get(\"mnubo_variables\").object1},\n\t\"x_event_type\": \"event_type_test\",\n\t\"x_timestamp\": \"2015-01-22T00:01:25-02:00\",\n\t\"x_latitude\": 57.876,\n\t\"x_longitude\": 57.876,\n\t\"temperature\": 25.6\n}];\nreturn msg;","outputs":1,"noerr":0,"x":220,"y":520,"wires":[["cf4a19a5.ceac18","85959dca.d9a96","c8297bd1.2f47b8","a7a90b9f.81b7f8"]]},{"id":"2ddd74a8.a8ba7c","type":"function","z":"b362a199.020ab","name":"Count Events","func":"msg.payload = {\n\t\"from\": \"event\",\n\t\"select\": [{\n\t\t\"count\": \"*\"\n\t}]\n};\nreturn msg;","outputs":1,"noerr":0,"x":181.22222518920898,"y":900.1111354827881,"wires":[["f30579e2.cebd78"]]},{"id":"9b20b9cd.776cc8","type":"function","z":"b362a199.020ab","name":"Update owner","func":"msg.payload = [ \n  flow.get(\"mnubo_variables\").owner1, \n  { \n\t\"x_registration_latitude\": 45.223, \n\t\"x_registration_longitude\": 73.234 \n  }\n];\nreturn msg;","outputs":1,"noerr":0,"x":269.44443130493164,"y":229.6666488647461,"wires":[["71b1d584.cb768c"]]},{"id":"625c3c13.0486c4","type":"function","z":"b362a199.020ab","name":"Update Object","func":"msg.payload = [\n    flow.get(\"mnubo_variables\").object1, \n{ \n\t\"x_object_type\": \"test2\" \n}\n];\nreturn msg;\n","outputs":1,"noerr":0,"x":260,"y":389,"wires":[["5ed59128.e2eda"]]},{"id":"3f37d4f3.d5ccfc","type":"function","z":"b362a199.020ab","name":"Send an Event FROM the object","func":"msg.payload = [\n    flow.get(\"mnubo_variables\").object1, \n    [{\n\t\"x_event_type\": \"event_type_test\",\n\t\"x_timestamp\": \"2015-01-22T00:01:25-02:00\",\n\t\"x_latitude\": 57.876,\n\t\"x_longitude\": 57.876,\n\t\"temperature\": 15.2\n    }]\n];\n\nreturn msg;","outputs":1,"noerr":0,"x":190,"y":720,"wires":[["7ba1c763.49b3c8","36b55436.3ca14c","a533dc2b.3a481","bc357e9f.c9a7f"]]},{"id":"5b6440f8.ca212","type":"function","z":"b362a199.020ab","name":"set global env","func":"//Flow context share by all functions\nflow.set(\"mnubo_variables\", {\n    owner1: \"diego-node-red-owner@test.com\",\n    object1: \"diego-node-red-device-auto\"\n});\nreturn msg;","outputs":1,"noerr":0,"x":307,"y":100,"wires":[["832a98bb.863e58"]]},{"id":"bcdf8d49.f807a","type":"function","z":"b362a199.020ab","name":"delete owner1","func":"msg.payload = flow.get(\"mnubo_variables\").owner1;\nreturn msg;","outputs":1,"noerr":0,"x":302,"y":1239,"wires":[["e6a96c9a.7dd62"]]},{"id":"2de0ef71.06397","type":"function","z":"b362a199.020ab","name":"delete object1","func":"msg.payload = flow.get(\"mnubo_variables\").object1;\nreturn msg;","outputs":1,"noerr":0,"x":284,"y":1156,"wires":[["594de310.0fdc5c"]]},{"id":"8926d813.feab18","type":"inject","z":"b362a199.020ab","name":"","topic":"","payload":"","payloadType":"none","repeat":"","crontab":"","once":false,"x":68,"y":153,"wires":[["832a98bb.863e58"]]},{"id":"85959dca.d9a96","type":"mnubo events","z":"b362a199.020ab","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":false,"x":460,"y":500,"wires":[["52a0a328.53da7c"]]},{"id":"c8297bd1.2f47b8","type":"mnubo events","z":"b362a199.020ab","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":true,"x":470,"y":540,"wires":[["52a0a328.53da7c"]]},{"id":"a7a90b9f.81b7f8","type":"mnubo events","z":"b362a199.020ab","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":true,"x":460,"y":580,"wires":[["3f37d4f3.d5ccfc","52a0a328.53da7c"]]},{"id":"99c1cd6f.3b0c2","type":"delay","z":"b362a199.020ab","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":391,"y":1105,"wires":[["2de0ef71.06397"]]},{"id":"1346874a.1344f9","type":"inject","z":"b362a199.020ab","name":"","topic":"clean","payload":"node-red-auto1@test.com","payloadType":"none","repeat":"","crontab":"","once":false,"x":90,"y":580,"wires":[["3f37d4f3.d5ccfc"]]},{"id":"b471433d.5117c","type":"mnubo objects","z":"b362a199.020ab","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"","x":441,"y":958,"wires":[["c019f5e1.971848"]]},{"id":"27f0643a.76186c","type":"function","z":"b362a199.020ab","name":"object1 exists?","func":"msg.payload = flow.get(\"mnubo_variables\").object1;\nreturn msg;","outputs":1,"noerr":0,"x":243,"y":960,"wires":[["b471433d.5117c"]]},{"id":"c154a4df.b75f58","type":"mnubo owners","z":"b362a199.020ab","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"","x":441,"y":1038,"wires":[["e53faeb.16d375"]]},{"id":"860b0b32.6f40d8","type":"function","z":"b362a199.020ab","name":"owner1 exists?","func":"msg.payload = flow.get(\"mnubo_variables\").owner1;\nreturn msg;","outputs":1,"noerr":0,"x":231,"y":1038,"wires":[["c154a4df.b75f58"]]},{"id":"51f3c9f.f39c938","type":"debug","z":"b362a199.020ab","name":"Error","active":true,"console":"false","complete":"payload","x":881,"y":958,"wires":[]},{"id":"e562fc71.f45fb","type":"debug","z":"b362a199.020ab","name":"OK","active":true,"console":"false","complete":"payload","x":878,"y":990,"wires":[]},{"id":"eba3cf48.d86b8","type":"debug","z":"b362a199.020ab","name":"Error","active":true,"console":"false","complete":"payload","x":861,"y":1038,"wires":[]},{"id":"851c5782.57d708","type":"debug","z":"b362a199.020ab","name":"OK","active":true,"console":"false","complete":"payload","x":858,"y":1070,"wires":[]},{"id":"2397da03.bb8476","type":"switch","z":"b362a199.020ab","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":660,"y":153,"wires":[["5dc9b777.fafb58"],["5b9a1b63.c2cd44","9b20b9cd.776cc8"]]},{"id":"224b56ab.201dea","type":"switch","z":"b362a199.020ab","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":660,"y":220,"wires":[["92b5b7b1.28e528"],["2cf53314.bb05bc","1c17543.c36efac"]]},{"id":"fbdbfd1b.a82c8","type":"switch","z":"b362a199.020ab","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":660,"y":320,"wires":[["e67232f6.beba5"],["45c8c90a.d21ec8","625c3c13.0486c4"]]},{"id":"a14d3c25.055ae","type":"switch","z":"b362a199.020ab","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":640,"y":380,"wires":[["86fd656e.df2ae8"],["de401402.16c9b8","25de5b5d.d5cc54"]]},{"id":"52a0a328.53da7c","type":"switch","z":"b362a199.020ab","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":660,"y":520,"wires":[["f9e6295d.110a08"],["e57abbf2.ebbe68"]]},{"id":"aa753086.23606","type":"switch","z":"b362a199.020ab","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":727,"y":716,"wires":[["ae23bb1f.a635b8"],["8ac7dfc2.8f5f4"]]},{"id":"8b8301d6.84ecd","type":"switch","z":"b362a199.020ab","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":671,"y":885,"wires":[["8e9c816d.455ef"],["ff022b41.ef8a98","27f0643a.76186c"]]},{"id":"c019f5e1.971848","type":"switch","z":"b362a199.020ab","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":651,"y":965,"wires":[["51f3c9f.f39c938"],["e562fc71.f45fb","860b0b32.6f40d8"]]},{"id":"e53faeb.16d375","type":"switch","z":"b362a199.020ab","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":651,"y":1045,"wires":[["eba3cf48.d86b8"],["851c5782.57d708","99c1cd6f.3b0c2"]]},{"id":"f55044b5.b1cf78","type":"switch","z":"b362a199.020ab","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":671,"y":1165,"wires":[["44a83616.395a98"],["e2453200.60b79","bcdf8d49.f807a"]]},{"id":"388d33a1.cb328c","type":"switch","z":"b362a199.020ab","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":671,"y":1225,"wires":[["61c37fd3.273fa"],["1d3ef699.6980b9"]]},{"id":"36b55436.3ca14c","type":"mnubo events","z":"b362a199.020ab","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"[\n    \"node-red-device-auto1\", \n    [{\n\t\"x_event_type\": \"event_type_test\",\n\t\"x_timestamp\": \"2015-01-22T00:01:25-02:00\",\n\t\"x_latitude\": 57.876,\n\t\"x_longitude\": 57.876,\n\t\"temperature\": 15.2\n    }]\n]","reportResults":true,"objectsMustExist":false,"x":500,"y":700,"wires":[["aa753086.23606"]]},{"id":"a533dc2b.3a481","type":"mnubo events","z":"b362a199.020ab","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"[\n    \"node-red-device-auto1\", \n    [{\n\t\"x_event_type\": \"event_type_test\",\n\t\"x_timestamp\": \"2015-01-22T00:01:25-02:00\",\n\t\"x_latitude\": 57.876,\n\t\"x_longitude\": 57.876,\n\t\"temperature\": 15.2\n    }]\n]","reportResults":false,"objectsMustExist":true,"x":500,"y":740,"wires":[["aa753086.23606"]]},{"id":"bc357e9f.c9a7f","type":"mnubo events","z":"b362a199.020ab","name":"","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"[\n    \"node-red-device-auto1\", \n    [{\n\t\"x_event_type\": \"event_type_test\",\n\t\"x_timestamp\": \"2015-01-22T00:01:25-02:00\",\n\t\"x_latitude\": 57.876,\n\t\"x_longitude\": 57.876,\n\t\"temperature\": 15.2\n    }]\n]","reportResults":true,"objectsMustExist":true,"x":500,"y":780,"wires":[["aa753086.23606","2ddd74a8.a8ba7c"]]},{"id":"7e770dbf.06e484","type":"mnubo config","z":"","name":"Integration","env":"sandbox","proxy_url":"","retries":false,"numberOfAttempts":"5","initialDelayInMillis":"500"}]
```

#### Example 2: Different Flows

```
[{"id":"99cb47de.986028","type":"tab","label":"Authentication"},{"id":"31ceee42.38ff32","type":"tab","label":"Owner","disabled":false},{"id":"c8ce61e2.1fd8e","type":"tab","label":"Objects","disabled":false,"info":""},{"id":"318c5a05.8ccd36","type":"tab","label":"Events"},{"id":"6a9b76a5.686cb8","type":"subflow","name":"Subflow 1","info":"","in":[],"out":[]},{"id":"58a329f3.b19578","type":"subflow","name":"Subflow 2","info":"","in":[{"x":50,"y":30,"wires":[]}],"out":[]},{"id":"7e770dbf.06e484","type":"mnubo config","z":"","name":"Integration","env":"sandbox","proxy_url":"","retries":false,"numberOfAttempts":"5","initialDelayInMillis":"500"},{"id":"91db3002.c15a5","type":"mqtt-broker","z":"","broker":"","port":"1883","tls":"","clientid":"","usetls":true,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"1c734b91.da2264","type":"mnubo auth","z":"99cb47de.986028","name":"Get Token","mnuboconfig":"7e770dbf.06e484","x":146.5,"y":182,"wires":[["9a6bcfea.26396"]]},{"id":"ba0b089b.a0cb18","type":"function","z":"99cb47de.986028","name":"set global env","func":"//Global Variables share by all functions in the diferents Flows\nglobal.set(\"mnubo_variables\", {\n    \"mnubo1\": {\n        \"owner\": \"node-red-owner-1@test.com\",\n        \"object\": \"node-red-device-1\"\n    },\n    \"mnubo2\": {\n        \"owner\": \"node-red-owner-2@test.com\",\n        \"object\": \"node-red-device-2\"\n    },\n    \"mnubo3\": {\n        \"owner\": \"node-red-owner-3@test.com\",\n        \"object\": \"node-red-device-3\"\n    },\n    \"mnubo4\": {\n        \"owner\": \"node-red-owner-4@test.com\",\n        \"object\": \"node-red-device-4\"\n    },\n    \"mnubo5\": {\n        \"owner\": \"node-red-owner-5@test.com\",\n        \"object\":  \"node-red-device-5\"\n    },\n    \"mnubo6\": {\n        \"owner\": \"node-red-owner-6@test.com\",\n        \"object\": \"node-red-device-6\"\n    },\n});\n\nglobal.set(\"bulk\", false);\n\nreturn msg;","outputs":1,"noerr":0,"x":516.25,"y":251.75,"wires":[["7347a15f.ac586"]]},{"id":"9a6bcfea.26396","type":"switch","z":"99cb47de.986028","name":"Token != Bearer","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","outputs":2,"x":320,"y":182,"wires":[["520bc6a3.409968"],["ba0b089b.a0cb18"]]},{"id":"520bc6a3.409968","type":"debug","z":"99cb47de.986028","name":"Error","active":true,"console":"false","complete":"errors","x":501,"y":160,"wires":[]},{"id":"3690590b.c34d46","type":"inject","z":"99cb47de.986028","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":147.38889122009277,"y":249.33333778381348,"wires":[["ba0b089b.a0cb18"]]},{"id":"1cdc4577.dcb63b","type":"link in","z":"c8ce61e2.1fd8e","name":"Object - From Owner","links":["2ec4833a.94a99c"],"x":36.11111259460449,"y":55.5555534362793,"wires":[["d54e6307.9a38b"]]},{"id":"d8739bba.fce1e8","type":"function","z":"c8ce61e2.1fd8e","name":"Single Creation","func":"return {\"payload\": global.get(\"mnubo_variables\").mnubo1.object};","outputs":1,"noerr":0,"x":233.3333282470703,"y":84.4444375038147,"wires":[["aad3a3ab.491de"]]},{"id":"4320a0cc.d49b2","type":"comment","z":"c8ce61e2.1fd8e","name":"Single Creation","info":"","x":100,"y":20,"wires":[]},{"id":"4741a0e9.b982c","type":"comment","z":"c8ce61e2.1fd8e","name":"Bulk Creation","info":"","x":81.11111450195312,"y":184.4444456100464,"wires":[]},{"id":"5148441e.eb3b1c","type":"comment","z":"c8ce61e2.1fd8e","name":"Single Update","info":"","x":90,"y":460,"wires":[]},{"id":"f1c76395.5646b","type":"comment","z":"c8ce61e2.1fd8e","name":"Bulk Update","info":"","x":90,"y":620,"wires":[]},{"id":"c396d79a.579ed8","type":"comment","z":"c8ce61e2.1fd8e","name":"Delete","info":"","x":70,"y":920,"wires":[]},{"id":"6f5884ca.bc7b0c","type":"function","z":"c8ce61e2.1fd8e","name":"Bulk Creation (Ok)","func":"return {\"payload\": [global.get(\"mnubo_variables\").mnubo2.object, global.get(\"mnubo_variables\").mnubo3.object]};","outputs":1,"noerr":0,"x":130,"y":220,"wires":[["5739b33f.bdf5cc"]]},{"id":"8ce830a7.dcd15","type":"function","z":"c8ce61e2.1fd8e","name":"Single Update","func":"return {\"payload\": [\n    global.get(\"mnubo_variables\").mnubo1.object, \n    {\"x_object_type\": \"trunk\"}\n    ]\n};","outputs":1,"noerr":0,"x":100,"y":540,"wires":[["8dbae0bb.68b97"]]},{"id":"e5c309d0.009f38","type":"mnubo objects","z":"c8ce61e2.1fd8e","name":"Delete","mnuboconfig":"7e770dbf.06e484","functionselection":"delete","inputtext":"","x":650,"y":1020,"wires":[["6e3beb32.14cd74"]]},{"id":"1e9ddb63.6f7845","type":"link in","z":"318c5a05.8ccd36","name":"Events - Entry Point","links":["c8f95478.3a73c8"],"x":15,"y":140,"wires":[["84b33ab5.036d68"]]},{"id":"435326b5.7685d8","type":"mnubo events","z":"318c5a05.8ccd36","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":false,"x":660,"y":100,"wires":[["c42c20c8.816ff"]]},{"id":"2187661b.47b7ba","type":"comment","z":"318c5a05.8ccd36","name":"EVENT","info":"","x":70,"y":40,"wires":[]},{"id":"31cdb965.b63196","type":"function","z":"318c5a05.8ccd36","name":"Single Events (Ok)","func":"\nreturn {\"payload\": [{\n    \"x_object\": {\"x_device_id\": global.get(\"mnubo_variables\").mnubo1.object },\n    \"x_event_type\": \"engine_start\",\n    \"x_timestamp\": new Date().toISOString(),\n  }]\n};","outputs":1,"noerr":0,"x":230,"y":200,"wires":[["435326b5.7685d8","f260c936.fcabd8","6fa6a0a2.4651e","25b92597.ab330a"]]},{"id":"adecd0e0.96322","type":"mnubo events","z":"318c5a05.8ccd36","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":false,"x":682,"y":155,"wires":[["c42c20c8.816ff"]]},{"id":"94daa41e.626178","type":"mnubo events","z":"318c5a05.8ccd36","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":true,"x":690,"y":201,"wires":[["c42c20c8.816ff"]]},{"id":"b611bc1.764524","type":"mnubo events","z":"318c5a05.8ccd36","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":true,"x":680,"y":246,"wires":[["c42c20c8.816ff","f8770b92.5becf8"]]},{"id":"57b53e43.a7ea9","type":"inject","z":"318c5a05.8ccd36","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":90,"y":240,"wires":[["31cdb965.b63196"]]},{"id":"f260c936.fcabd8","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":494.5,"y":155,"wires":[["adecd0e0.96322"]]},{"id":"6fa6a0a2.4651e","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":500,"y":202,"wires":[["94daa41e.626178"]]},{"id":"25b92597.ab330a","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":500,"y":247,"wires":[["b611bc1.764524"]]},{"id":"33b58ebb.4614e2","type":"inject","z":"c8ce61e2.1fd8e","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":260,"y":940,"wires":[["1cd3b22e.2dc67e"]]},{"id":"4badcfa0.c8d81","type":"mnubo analytics","z":"318c5a05.8ccd36","name":"Seach Query","mnuboconfig":"7e770dbf.06e484","searchtype":"SearchQuery","inputquery":"","x":547.6666717529297,"y":2362.0000133514404,"wires":[["7278acff.5faa34"]]},{"id":"66e5d42d.7d23ac","type":"function","z":"318c5a05.8ccd36","name":"Count Events","func":"\nreturn {\"payload\": \n    {\n        \"from\": \"event\",\n        \"select\": [{\n            \"count\": \"*\"\n        }]\n    }\n};","outputs":1,"noerr":0,"x":316.8888969421387,"y":2361.1111488342285,"wires":[["4badcfa0.c8d81"]]},{"id":"f583ca87.801968","type":"comment","z":"318c5a05.8ccd36","name":"SEARCH","info":"","x":105,"y":2321,"wires":[]},{"id":"1a0d12ab.7d9d0d","type":"inject","z":"318c5a05.8ccd36","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":120,"y":2540,"wires":[["66e5d42d.7d23ac","a6949efa.1f7ed","7f3e5021.4a308"]]},{"id":"91b0bb43.16f898","type":"mnubo analytics","z":"318c5a05.8ccd36","name":"Get DataModel","mnuboconfig":"7e770dbf.06e484","searchtype":"getDatamodel","inputquery":"","x":539.8888959884644,"y":2446.4446630477905,"wires":[["7b2cb982.d18588"]]},{"id":"9e003c51.15bdd","type":"mnubo analytics","z":"318c5a05.8ccd36","name":"Get Dataset","mnuboconfig":"7e770dbf.06e484","searchtype":"getDatasets","inputquery":"","x":529.5555725097656,"y":2538.888997077942,"wires":[["66c66143.d3cf2","ec42b588.5a9068"]]},{"id":"a6949efa.1f7ed","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":336.44444274902344,"y":2446.777970314026,"wires":[["91b0bb43.16f898"]]},{"id":"7f3e5021.4a308","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":336.66666412353516,"y":2537.7776622772217,"wires":[["9e003c51.15bdd"]]},{"id":"7b4315e1.dc80dc","type":"inject","z":"c8ce61e2.1fd8e","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":100,"y":140,"wires":[["d8739bba.fce1e8"]]},{"id":"4f64ea7e.3add04","type":"debug","z":"c8ce61e2.1fd8e","name":"OK","active":true,"console":"false","complete":"payload","x":970,"y":1040,"wires":[]},{"id":"1fa24704.662a09","type":"debug","z":"c8ce61e2.1fd8e","name":"Error","active":true,"console":"false","complete":"errors","x":969,"y":1002,"wires":[]},{"id":"1d724e71.53e2b2","type":"function","z":"31ceee42.38ff32","name":"Single Creation","func":"msg.payload = global.get(\"mnubo_variables\").mnubo1.owner;\nreturn msg;","outputs":1,"noerr":0,"x":155,"y":99,"wires":[["630f5af4.228d84"]]},{"id":"630f5af4.228d84","type":"mnubo owners","z":"31ceee42.38ff32","name":"Exists","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"owner-1","x":330,"y":100,"wires":[["33ecd65c.cc25da"]]},{"id":"c182ceaf.0f319","type":"link in","z":"31ceee42.38ff32","name":"Owner - Entry Point","links":["7347a15f.ac586"],"x":35,"y":60,"wires":[["ea0a895e.bc3718"]]},{"id":"c446210a.f93d2","type":"comment","z":"31ceee42.38ff32","name":"Single Creation","info":"","x":80,"y":20,"wires":[]},{"id":"8c062516.2dc3b8","type":"mnubo owners","z":"31ceee42.38ff32","name":"Delete","mnuboconfig":"7e770dbf.06e484","functionselection":"delete","inputtext":"node-red-owner-auto6@test.com","x":470,"y":1960,"wires":[["4398e0d7.6bd1b"]]},{"id":"958ae4a0.d3eae8","type":"comment","z":"31ceee42.38ff32","name":"Bulk Creation","info":"","x":90,"y":180,"wires":[]},{"id":"29fc45b9.256c4a","type":"comment","z":"31ceee42.38ff32","name":"Single Update","info":"","x":70,"y":440,"wires":[]},{"id":"c1c93920.b875a8","type":"comment","z":"31ceee42.38ff32","name":"Bulk Update","info":"","x":70,"y":580,"wires":[]},{"id":"d8403a89.a29988","type":"comment","z":"31ceee42.38ff32","name":"Delete","info":"","x":50,"y":1780,"wires":[]},{"id":"633e82b.a04397c","type":"function","z":"31ceee42.38ff32","name":"Bulk Creation (Ok)","func":"msg.payload = [global.get(\"mnubo_variables\").mnubo2.owner, global.get(\"mnubo_variables\").mnubo3.owner];\n\nreturn msg;","outputs":1,"noerr":0,"x":176.5,"y":216.5555362701416,"wires":[["7dc95602.6b21b8"]]},{"id":"4339e002.84f1e","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":770,"y":1980,"wires":[]},{"id":"17db1dea.230412","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"console":"false","complete":"errors","x":770,"y":1940,"wires":[]},{"id":"4398e0d7.6bd1b","type":"switch","z":"31ceee42.38ff32","name":"errors is not null","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","outputs":2,"x":620,"y":1960,"wires":[["17db1dea.230412"],["4339e002.84f1e","203deb2c.cebea4"]]},{"id":"29b3554b.dc171a","type":"function","z":"31ceee42.38ff32","name":"Multiple Owners","func":"return [\n    {\"payload\": global.get(\"mnubo_variables\").mnubo1.owner}, {\"payload\": global.get(\"mnubo_variables\").mnubo2.owner},\n    {\"payload\": global.get(\"mnubo_variables\").mnubo3.owner}, {\"payload\": global.get(\"mnubo_variables\").mnubo4.owner},\n    {\"payload\": global.get(\"mnubo_variables\").mnubo5.owner}, {\"payload\": global.get(\"mnubo_variables\").mnubo6.owner}\n    ];\n","outputs":6,"noerr":0,"x":273.3333396911621,"y":1962.000036239624,"wires":[["8c062516.2dc3b8"],["8c062516.2dc3b8"],["8c062516.2dc3b8"],["8c062516.2dc3b8"],["8c062516.2dc3b8"],["8c062516.2dc3b8"]]},{"id":"aeb02e70.ba7b3","type":"inject","z":"31ceee42.38ff32","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":100,"y":2020,"wires":[["29b3554b.dc171a"]]},{"id":"dc09e5b4.4300b8","type":"function","z":"31ceee42.38ff32","name":"Single Update","func":"return {\"payload\":[\n    global.get(\"mnubo_variables\").mnubo1.owner, \n    {\n        \"age\": 21,\n        'x_timestamp': new Date().toISOString()\n    }\n    ]\n};","outputs":1,"noerr":0,"x":140,"y":520,"wires":[["96379420.6cead8"]]},{"id":"df11cb44.42fe28","type":"function","z":"31ceee42.38ff32","name":"Bulk Update (Ok)","func":"msg.payload = [\n    {\n      \"username\": global.get(\"mnubo_variables\").mnubo2.owner,\n      \"age\": 52,\n      'x_timestamp': new Date().toISOString()\n    },\n    {\n      \"username\": global.get(\"mnubo_variables\").mnubo3.owner,\n      \"age\": 29,\n      'x_timestamp': new Date().toISOString()\n    }\n];\nreturn msg;\n","outputs":1,"noerr":0,"x":110,"y":640,"wires":[["ccdfea7f.0c7b28"]]},{"id":"96379420.6cead8","type":"mnubo owners","z":"31ceee42.38ff32","name":"Update","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":320,"y":520,"wires":[["738afe26.23891"]]},{"id":"4fb0d611.8f9518","type":"function","z":"31ceee42.38ff32","name":"Bulk Update (Multiple Status)","func":"msg.payload = [{\n  \"username\": global.get(\"mnubo_variables\").mnubo4.owner,\n  \"gender\": \"male\",\n  'x_timestamp': new Date().toISOString()\n},\n{\n  \"username\": global.get(\"mnubo_variables\").mnubo5.owner,\n  \"age\": 35,\n  'x_timestamp': new Date().toISOString()\n}\n];\nreturn msg;\n","outputs":1,"noerr":0,"x":140,"y":720,"wires":[["f277b481.fab7f8"]]},{"id":"1e3a04d5.aca3cb","type":"comment","z":"31ceee42.38ff32","name":"Single Claim","info":"","x":70,"y":860,"wires":[]},{"id":"678da61.b574e58","type":"comment","z":"31ceee42.38ff32","name":"Bulk Claim","info":"","x":60,"y":1040,"wires":[]},{"id":"37cba518.d8945a","type":"function","z":"31ceee42.38ff32","name":"Single Claim","func":"return {\n    \"payload\":  [global.get(\"mnubo_variables\").mnubo1.owner, global.get(\"mnubo_variables\").mnubo1.object ]\n};","outputs":1,"noerr":0,"x":190,"y":940,"wires":[["85f8ee09.6226f"]]},{"id":"85f8ee09.6226f","type":"mnubo owners","z":"31ceee42.38ff32","name":"Claim","mnuboconfig":"7e770dbf.06e484","functionselection":"claim","inputtext":"","x":430,"y":940,"wires":[["c4816ed0.d47ca"]]},{"id":"d3a44fff.64597","type":"comment","z":"31ceee42.38ff32","name":"Single unClaim","info":"","x":80,"y":1300,"wires":[]},{"id":"74c57fc5.11dfb","type":"inject","z":"31ceee42.38ff32","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":80,"y":140,"wires":[["1d724e71.53e2b2"]]},{"id":"61e0f2c.328e70c","type":"inject","z":"31ceee42.38ff32","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":80,"y":480,"wires":[["dc09e5b4.4300b8"]]},{"id":"9178132.de12bf","type":"function","z":"31ceee42.38ff32","name":"exists?","func":"if (msg.payload[global.get(\"mnubo_variables\").mnubo1.owner]) {\n    return [msg, null]\n}\nelse {\n    return [null, {\n        \"payload\": {\n            \"username\": global.get(\"mnubo_variables\").mnubo1.owner,\n        }\n    }]\n}","outputs":2,"noerr":0,"x":600,"y":100,"wires":[["85f8d627.c7d0f8"],["642d000d.ae60b"]],"outputLabels":["Alredy exists","Does not exists"]},{"id":"33ecd65c.cc25da","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":460,"y":99,"wires":[["dddefbcd.08b698"],["9178132.de12bf"]]},{"id":"dddefbcd.08b698","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":570,"y":20,"wires":[]},{"id":"642d000d.ae60b","type":"mnubo owners","z":"31ceee42.38ff32","name":"Create","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"[\n    {\"username\": \"mnubo5.owner\",\n    \"x_password\": \"MnuboDummyPassword\"\n    },\n    {\"username\": \"mnubo6.owner\",\n    \"x_password\": \"MnuboDummyPassword\",\n    \"gender\": \"male\"\n    }]","x":750,"y":102,"wires":[["af311d58.09b7f"]]},{"id":"85f8d627.c7d0f8","type":"debug","z":"31ceee42.38ff32","name":"    Owner Exists","active":true,"tosidebar":true,"console":false,"complete":"payload","x":750,"y":20,"wires":[]},{"id":"af311d58.09b7f","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":880,"y":102,"wires":[["7fb8ccb8.b8ead4"],["b30a22.1da6f5e","633e82b.a04397c"]]},{"id":"7fb8ccb8.b8ead4","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":990,"y":20,"wires":[]},{"id":"b30a22.1da6f5e","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":1010,"y":98,"wires":[]},{"id":"7dc95602.6b21b8","type":"mnubo owners","z":"31ceee42.38ff32","name":"Exists","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"owner-1","x":365,"y":218.2222137451172,"wires":[["a7ca6dbf.bf5bf"]]},{"id":"a7ca6dbf.bf5bf","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":495,"y":218.2222137451172,"wires":[["cb16c43f.bf0ce8"],["cdc272a5.701b2"]],"outputLabels":["Error","Ok"]},{"id":"cb16c43f.bf0ce8","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":605,"y":182.2222137451172,"wires":[]},{"id":"cfbca126.3090b","type":"function","z":"31ceee42.38ff32","name":"Bulk Creation (Multi Status)","func":"msg.payload = [global.get(\"mnubo_variables\").mnubo4.owner, global.get(\"mnubo_variables\").mnubo5.owner];\n\nreturn msg;","outputs":1,"noerr":0,"x":175,"y":302.2222137451172,"wires":[["57158e02.0738a"]]},{"id":"57158e02.0738a","type":"mnubo owners","z":"31ceee42.38ff32","name":"Exists","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"owner-1","x":373.5,"y":303.8888912200928,"wires":[["a6a988e6.4c8ac8"]]},{"id":"a6a988e6.4c8ac8","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":503.5,"y":303.8888912200928,"wires":[["800a6511.cebb78"],["38693da7.418162"]]},{"id":"800a6511.cebb78","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":613.5,"y":267.8888912200928,"wires":[]},{"id":"cdc272a5.701b2","type":"function","z":"31ceee42.38ff32","name":"Create Body","func":"var owner_to_create = [];\n\nmsg.payload.forEach((el, index) => {\n    owner_to_create.push(\n        {\n            'username': Object.keys(el)[0],\n            'x_password': \"MnuboDummyPassword\",\n            'x_registration_date': new Date().toISOString()\n        });\n})\n\nreturn {\"payload\": owner_to_create}","outputs":1,"noerr":0,"x":653,"y":225.2222137451172,"wires":[["a48842e0.cf22d"]]},{"id":"a48842e0.cf22d","type":"mnubo owners","z":"31ceee42.38ff32","name":"Create","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"[\n    {\"username\": \"mnubo5.owner\",\n    \"x_password\": \"MnuboDummyPassword\"\n    },\n    {\"username\": \"mnubo6.owner\",\n    \"x_password\": \"MnuboDummyPassword\",\n    \"gender\": \"male\"\n    }]","x":819,"y":226.2222137451172,"wires":[["3a2c3f16.95dea"]]},{"id":"3a2c3f16.95dea","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":949,"y":226.2222137451172,"wires":[["9f4fbb69.edf338"],["ef89f45d.391eb8","cfbca126.3090b"]]},{"id":"9f4fbb69.edf338","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":1079,"y":204.2222137451172,"wires":[]},{"id":"ef89f45d.391eb8","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":1079,"y":244.2222137451172,"wires":[]},{"id":"38693da7.418162","type":"function","z":"31ceee42.38ff32","name":"Create Body","func":"var owner_to_create = [];\n\nmsg.payload.forEach((el, index) => {\n    if (index) {\n        owner_to_create.push(\n            {\n                'username': Object.keys(el)[0],\n                'x_password': \"MnuboDummyPassword\",\n                'x_registration_date': new Date().toISOString()\n            })\n        \n    } else { //Build one bad request\n        owner_to_create.push(\n            {\n                'username': Object.keys(el)[0],\n                'x_registration_date': new Date().toISOString(),\n                'gender': \"male\"\n            })\n    }\n})\n\nreturn {\"payload\": owner_to_create}","outputs":1,"noerr":0,"x":656,"y":310.2222137451172,"wires":[["d35b425d.9d7a"]]},{"id":"d35b425d.9d7a","type":"mnubo owners","z":"31ceee42.38ff32","name":"Create","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"[\n    {\"username\": \"mnubo5.owner\",\n    \"x_password\": \"MnuboDummyPassword\"\n    },\n    {\"username\": \"mnubo6.owner\",\n    \"x_password\": \"MnuboDummyPassword\",\n    \"gender\": \"male\"\n    }]","x":824,"y":309.2222137451172,"wires":[["e15eb15.815c05"]]},{"id":"e15eb15.815c05","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":954,"y":309.2222137451172,"wires":[["e7158c60.9c488","9c9620c1.8cae5"],["790aab3f.bc9394"]]},{"id":"e7158c60.9c488","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":1084,"y":287.2222137451172,"wires":[]},{"id":"790aab3f.bc9394","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":1084,"y":327.2222137451172,"wires":[]},{"id":"738afe26.23891","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":480,"y":520,"wires":[["5ed98c4b.1791e4"],["c67125d1.64c308","df11cb44.42fe28"]]},{"id":"5ed98c4b.1791e4","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":610,"y":498,"wires":[]},{"id":"c67125d1.64c308","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":610,"y":538,"wires":[]},{"id":"d681e217.b1b44","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":480,"y":640,"wires":[["2f8dc27c.12229e"],["bc7f8ebb.e9008","4fb0d611.8f9518"]]},{"id":"2f8dc27c.12229e","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":610,"y":618,"wires":[]},{"id":"bc7f8ebb.e9008","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":610,"y":658,"wires":[]},{"id":"ccdfea7f.0c7b28","type":"mnubo owners","z":"31ceee42.38ff32","name":"Update","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":320,"y":640,"wires":[["d681e217.b1b44"]]},{"id":"6401d266.33e74c","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":540,"y":720,"wires":[["3212a57.212685a","2f2f26e8.c7a22a"],["b7cadde3.986f3"]]},{"id":"3212a57.212685a","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":670,"y":698,"wires":[]},{"id":"b7cadde3.986f3","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":670,"y":738,"wires":[]},{"id":"f277b481.fab7f8","type":"mnubo owners","z":"31ceee42.38ff32","name":"Update","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":380,"y":720,"wires":[["6401d266.33e74c"]]},{"id":"5025e763.e00608","type":"inject","z":"31ceee42.38ff32","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":80,"y":980,"wires":[["37cba518.d8945a"]]},{"id":"2f2f26e8.c7a22a","type":"function","z":"31ceee42.38ff32","name":"Bulk Update (All Fail)","func":"return {\"payload\":[\n    {\n        \"username\": global.get(\"mnubo_variables\").mnubo4.owner,\n        \"gender\": \"male\",\n        'x_timestamp': new Date().toISOString()\n    },\n    {\n        \"username\": global.get(\"mnubo_variables\").mnubo6.owner,\n        \"age\": 35,\n        \"gender\": \"male\",\n        'x_timestamp': new Date().toISOString()\n    }\n    ]\n};\n","outputs":1,"noerr":0,"x":120,"y":800,"wires":[["de54d74b.bbc938"]]},{"id":"20956692.d34e6a","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":540,"y":800,"wires":[["6ca47b0d.f541b4","2ec4833a.94a99c"],["8effbecf.61166"]]},{"id":"6ca47b0d.f541b4","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":670,"y":778,"wires":[]},{"id":"8effbecf.61166","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":670,"y":818,"wires":[]},{"id":"de54d74b.bbc938","type":"mnubo owners","z":"31ceee42.38ff32","name":"Update","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":380,"y":800,"wires":[["20956692.d34e6a"]]},{"id":"9c9620c1.8cae5","type":"function","z":"31ceee42.38ff32","name":"Bulk Creation (All Fail)","func":"return {\"payload\": [global.get(\"mnubo_variables\").mnubo1.owner, global.get(\"mnubo_variables\").mnubo2.owner, global.get(\"mnubo_variables\").mnubo6.owner]};","outputs":1,"noerr":0,"x":155,"y":382.2222137451172,"wires":[["6fee4d67.9d1e74"]]},{"id":"6fee4d67.9d1e74","type":"mnubo owners","z":"31ceee42.38ff32","name":"Exists","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"owner-1","x":373.5,"y":383.8888912200928,"wires":[["88e8eacd.383578"]]},{"id":"88e8eacd.383578","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":503.5,"y":383.8888912200928,"wires":[["bd256ff7.9e3bc"],["c0249313.ef288"]]},{"id":"98926f1.d45c89","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":954,"y":385.2222137451172,"wires":[["4e2d2588.1f2efc","dc09e5b4.4300b8"],["af624c25.5fda9"]]},{"id":"4e2d2588.1f2efc","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":1084,"y":363.2222137451172,"wires":[]},{"id":"af624c25.5fda9","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":1085,"y":418.2222137451172,"wires":[]},{"id":"c0249313.ef288","type":"function","z":"31ceee42.38ff32","name":"Create Body","func":"var owner_to_create = [];\n\nmsg.payload.forEach((el, index) => {\n    owner_to_create.push(\n        {\n            'username': Object.keys(el)[0],\n            'x_registration_date': new Date().toISOString(),\n            \"gender\": \"Male\"\n        });\n})\n\nreturn {\"payload\": owner_to_create}","outputs":1,"noerr":0,"x":656,"y":384.2222137451172,"wires":[["37a4199d.341ac6"]]},{"id":"37a4199d.341ac6","type":"mnubo owners","z":"31ceee42.38ff32","name":"Create","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"[\n    {\"username\": \"mnubo5.owner\",\n    \"x_password\": \"MnuboDummyPassword\"\n    },\n    {\"username\": \"mnubo6.owner\",\n    \"x_password\": \"MnuboDummyPassword\",\n    \"gender\": \"male\"\n    }]","x":823,"y":384.2222137451172,"wires":[["98926f1.d45c89"]]},{"id":"bd256ff7.9e3bc","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":608,"y":345.2222137451172,"wires":[]},{"id":"2ec4833a.94a99c","type":"link out","z":"31ceee42.38ff32","name":"Owner - Bulk Update (all Fail)","links":["1cdc4577.dcb63b"],"x":790.55553150177,"y":792.2222261428833,"wires":[]},{"id":"d22069de.d84288","type":"function","z":"c8ce61e2.1fd8e","name":"exists?","func":"if (msg.payload[global.get(\"mnubo_variables\").mnubo1.object]) {\n    return [msg, null]\n}\nelse {\n    return [null, {\n        \"payload\": {\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo1.object,\n            'x_object_type': \"car\",\n            'x_registration_date': new Date().toISOString(),\n            'x_registration_latitude': -34.586547,\n        \t'x_registration_longitude': -58.398396,\n            \n        }\n    }]\n}","outputs":2,"noerr":0,"x":667,"y":84.11110925674438,"wires":[["a555c684.1c94a8"],["48173fe6.3676b"]],"outputLabels":["Alredy exists","Does not exists"]},{"id":"ed0ce7cc.0a8a38","type":"switch","z":"c8ce61e2.1fd8e","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":527,"y":83.11110925674438,"wires":[["84ca66f0.d92b88"],["d22069de.d84288"]]},{"id":"84ca66f0.d92b88","type":"debug","z":"c8ce61e2.1fd8e","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":595,"y":41.111109256744385,"wires":[]},{"id":"a555c684.1c94a8","type":"debug","z":"c8ce61e2.1fd8e","name":"    Owner Exists","active":true,"tosidebar":true,"console":false,"complete":"payload","x":775,"y":41.111109256744385,"wires":[]},{"id":"1ae285a6.a597ca","type":"switch","z":"c8ce61e2.1fd8e","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":947,"y":86.11110925674438,"wires":[["7f51ae5f.2814b"],["10b464a5.0b556b","6f5884ca.bc7b0c"]]},{"id":"7f51ae5f.2814b","type":"debug","z":"c8ce61e2.1fd8e","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":1055,"y":41.111109256744385,"wires":[]},{"id":"10b464a5.0b556b","type":"debug","z":"c8ce61e2.1fd8e","name":"OK","active":true,"console":"false","complete":"payload","x":1077,"y":82.11110925674438,"wires":[]},{"id":"48173fe6.3676b","type":"mnubo objects","z":"c8ce61e2.1fd8e","name":"Create","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"","x":818,"y":86.11110925674438,"wires":[["1ae285a6.a597ca"]]},{"id":"aad3a3ab.491de","type":"mnubo objects","z":"c8ce61e2.1fd8e","name":"Exists","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"","x":399,"y":83.11110925674438,"wires":[["ed0ce7cc.0a8a38"]]},{"id":"1cd3b22e.2dc67e","type":"function","z":"c8ce61e2.1fd8e","name":"Multiple Objetcs","func":"return [\n    {\"payload\": global.get(\"mnubo_variables\").mnubo1.object}, {\"payload\": global.get(\"mnubo_variables\").mnubo2.object},\n    {\"payload\": global.get(\"mnubo_variables\").mnubo3.object}, {\"payload\": global.get(\"mnubo_variables\").mnubo4.object},\n    {\"payload\": global.get(\"mnubo_variables\").mnubo5.object}, {\"payload\": global.get(\"mnubo_variables\").mnubo6.object}\n];\n","outputs":6,"noerr":0,"x":460,"y":1020,"wires":[["e5c309d0.009f38"],["e5c309d0.009f38"],["e5c309d0.009f38"],["e5c309d0.009f38"],["e5c309d0.009f38"],["e5c309d0.009f38","41ed24aa.b903fc"]]},{"id":"6e3beb32.14cd74","type":"switch","z":"c8ce61e2.1fd8e","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":800,"y":1020,"wires":[["1fa24704.662a09"],["4f64ea7e.3add04"]]},{"id":"fa73d2b4.b2ebc","type":"function","z":"c8ce61e2.1fd8e","name":"Create Body","func":"var objects_to_create = [];\n\nmsg.payload.forEach((el, index) => {\n    objects_to_create.push(\n        {\n            'x_device_id': Object.keys(el)[0],\n            'x_object_type': \"car\",\n            'x_registration_date': new Date().toISOString(),\n            'x_registration_latitude': -34.586547,\n        \t'x_registration_longitude': -58.398396\n        });\n})\n\nreturn {\"payload\": objects_to_create}","outputs":1,"noerr":0,"x":648,"y":220,"wires":[["b7b76c8f.c1f88"]],"outputLabels":["Alredy exists"]},{"id":"67a1fad.7c61e04","type":"switch","z":"c8ce61e2.1fd8e","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":498,"y":219,"wires":[["57799f6b.19bd2"],["fa73d2b4.b2ebc"]]},{"id":"57799f6b.19bd2","type":"debug","z":"c8ce61e2.1fd8e","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":588,"y":180,"wires":[]},{"id":"f74bdf18.2048e","type":"switch","z":"c8ce61e2.1fd8e","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":934,"y":222,"wires":[["ff38a8a0.cb7c28"],["15a9c13.5a8793f","d7f80dba.0130e"]]},{"id":"ff38a8a0.cb7c28","type":"debug","z":"c8ce61e2.1fd8e","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":1032,"y":179,"wires":[]},{"id":"15a9c13.5a8793f","type":"debug","z":"c8ce61e2.1fd8e","name":"OK","active":true,"console":"false","complete":"payload","x":1064,"y":218,"wires":[]},{"id":"b7b76c8f.c1f88","type":"mnubo objects","z":"c8ce61e2.1fd8e","name":"Create","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"","x":805,"y":222,"wires":[["f74bdf18.2048e"]]},{"id":"5739b33f.bdf5cc","type":"mnubo objects","z":"c8ce61e2.1fd8e","name":"Exists","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"","x":370,"y":219,"wires":[["67a1fad.7c61e04"]]},{"id":"d7f80dba.0130e","type":"function","z":"c8ce61e2.1fd8e","name":"Bulk Creation (Multi Status)","func":"return {\"payload\": [global.get(\"mnubo_variables\").mnubo4.object, global.get(\"mnubo_variables\").mnubo5.object]};","outputs":1,"noerr":0,"x":160,"y":310,"wires":[["1622a338.0d8f8d"]]},{"id":"33ca6f51.25b8e","type":"function","z":"c8ce61e2.1fd8e","name":"Create Body","func":"var objects_to_create = [];\n\nmsg.payload.forEach((el, index) => {\n    if (index) {\n        objects_to_create.push(\n            {\n                'x_device_id': Object.keys(el)[0],\n                'x_object_type': \"car\",\n                'x_registration_date': new Date().toISOString(),\n                'x_registration_latitude': -36.183644,\n            \t'x_registration_longitude': -68.898592\n            })\n        \n    } else { //Build one bad request\n        objects_to_create.push(\n            {\n                'x_device_id': Object.keys(el)[0],\n                'x_registration_date': new Date().toISOString(),\n                'x_registration_latitude': -36.183644,\n            \t'x_registration_longitude': -68.898592\n            })\n    }\n})\n\nreturn {\"payload\": objects_to_create}","outputs":1,"noerr":0,"x":650,"y":310,"wires":[["ad49f22b.cd2e4"]],"outputLabels":["Alredy exists"]},{"id":"2c2ec66a.8536fa","type":"switch","z":"c8ce61e2.1fd8e","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":500,"y":309,"wires":[["f33c2d.f7e393d"],["33ca6f51.25b8e"]]},{"id":"f33c2d.f7e393d","type":"debug","z":"c8ce61e2.1fd8e","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":590,"y":270,"wires":[]},{"id":"fc5587a1.dffe68","type":"switch","z":"c8ce61e2.1fd8e","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":936,"y":312,"wires":[["c1a7d284.978bd","778cd3e7.b2d17c"],["808ca792.0a4e08"]]},{"id":"c1a7d284.978bd","type":"debug","z":"c8ce61e2.1fd8e","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":1030,"y":269,"wires":[]},{"id":"808ca792.0a4e08","type":"debug","z":"c8ce61e2.1fd8e","name":"OK","active":true,"console":"false","complete":"payload","x":1070,"y":310,"wires":[]},{"id":"ad49f22b.cd2e4","type":"mnubo objects","z":"c8ce61e2.1fd8e","name":"Create","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"","x":807,"y":312,"wires":[["fc5587a1.dffe68"]]},{"id":"1622a338.0d8f8d","type":"mnubo objects","z":"c8ce61e2.1fd8e","name":"Exists","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"","x":372,"y":309,"wires":[["2c2ec66a.8536fa"]]},{"id":"778cd3e7.b2d17c","type":"function","z":"c8ce61e2.1fd8e","name":"Bulk Creation (All Fail)","func":"return {\"payload\": [global.get(\"mnubo_variables\").mnubo1.object, global.get(\"mnubo_variables\").mnubo6.object]};","outputs":1,"noerr":0,"x":140,"y":400,"wires":[["bfb3a24c.c5277"]]},{"id":"70938815.8517c8","type":"function","z":"c8ce61e2.1fd8e","name":"Create Body","func":"return {\n    \"payload\": [\n        {\n        \"x_device_id\": global.get(\"mnubo_variables\").mnubo4.object,\n        'x_registration_date': new Date().toISOString(),\n        'x_registration_latitude': -34.586547,\n    \t'x_registration_longitude': -58.398396\n    },\n    {\n        \"x_device_id\": global.get(\"mnubo_variables\").mnubo6.object,\n        'x_registration_date': new Date().toISOString(),\n        'x_registration_latitude': -36.183644,\n    \t'x_registration_longitude': -68.898592\n    }\n    ]\n}\n","outputs":1,"noerr":0,"x":650,"y":400,"wires":[["57e8e9c8.0cdef8"]],"outputLabels":["Alredy exists"]},{"id":"90f5b6d0.f95728","type":"switch","z":"c8ce61e2.1fd8e","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":500,"y":399,"wires":[["e2897b75.a736c8"],["70938815.8517c8"]]},{"id":"e2897b75.a736c8","type":"debug","z":"c8ce61e2.1fd8e","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":590,"y":360,"wires":[]},{"id":"b8444cb1.4dcd5","type":"switch","z":"c8ce61e2.1fd8e","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":936,"y":402,"wires":[["7f461b5d.c56a74","8ce830a7.dcd15"],["bc86f616.111b68"]]},{"id":"7f461b5d.c56a74","type":"debug","z":"c8ce61e2.1fd8e","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":1032,"y":360,"wires":[]},{"id":"bc86f616.111b68","type":"debug","z":"c8ce61e2.1fd8e","name":"OK","active":true,"console":"false","complete":"payload","x":1066,"y":398,"wires":[]},{"id":"57e8e9c8.0cdef8","type":"mnubo objects","z":"c8ce61e2.1fd8e","name":"Create","mnuboconfig":"7e770dbf.06e484","functionselection":"create","inputtext":"","x":807,"y":402,"wires":[["b8444cb1.4dcd5"]]},{"id":"bfb3a24c.c5277","type":"mnubo objects","z":"c8ce61e2.1fd8e","name":"Exists","mnuboconfig":"7e770dbf.06e484","functionselection":"exists","inputtext":"","x":372,"y":399,"wires":[["90f5b6d0.f95728"]]},{"id":"5337aa74.54beb4","type":"inject","z":"c8ce61e2.1fd8e","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":100,"y":500,"wires":[["8ce830a7.dcd15"]]},{"id":"8dbae0bb.68b97","type":"mnubo objects","z":"c8ce61e2.1fd8e","name":"Update","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":300,"y":540,"wires":[["40a1b7f6.0a25a8"]]},{"id":"40a1b7f6.0a25a8","type":"switch","z":"c8ce61e2.1fd8e","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":440,"y":540,"wires":[["e276cf2e.41874"],["a58035fc.4f0838","1b964fb9.0c00a"]]},{"id":"e276cf2e.41874","type":"debug","z":"c8ce61e2.1fd8e","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":570,"y":518,"wires":[]},{"id":"a58035fc.4f0838","type":"debug","z":"c8ce61e2.1fd8e","name":"OK","active":true,"console":"false","complete":"payload","x":570,"y":558,"wires":[]},{"id":"1b964fb9.0c00a","type":"function","z":"c8ce61e2.1fd8e","name":"Bulk Update (Ok)","func":"return {\n    \"payload\": [\n        {\n            'x_device_id': global.get(\"mnubo_variables\").mnubo2.object,\n            'x_object_type': \"truck\",\n            'x_timestamp': new Date().toISOString(),\n\n        },\n        {\n            'x_device_id': global.get(\"mnubo_variables\").mnubo3.object,\n            'x_object_type': \"truck\",\n            'x_timestamp': new Date().toISOString(),\n        }\n        ]\n};","outputs":1,"noerr":0,"x":110,"y":660,"wires":[["3e6d97f3.203668"]]},{"id":"3e6d97f3.203668","type":"mnubo objects","z":"c8ce61e2.1fd8e","name":"Update","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":364,"y":660,"wires":[["2dcff7d8.dd3eb8"]]},{"id":"2dcff7d8.dd3eb8","type":"switch","z":"c8ce61e2.1fd8e","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":504,"y":660,"wires":[["8a8f723c.ac416"],["6e393221.15da1c","60d7a040.e8ecd"]]},{"id":"8a8f723c.ac416","type":"debug","z":"c8ce61e2.1fd8e","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":634,"y":638,"wires":[]},{"id":"6e393221.15da1c","type":"debug","z":"c8ce61e2.1fd8e","name":"OK","active":true,"console":"false","complete":"payload","x":634,"y":678,"wires":[]},{"id":"60d7a040.e8ecd","type":"function","z":"c8ce61e2.1fd8e","name":"Bulk Update (Multi Status)","func":"return {\n    \"payload\": [\n        {\n            'x_device_id': global.get(\"mnubo_variables\").mnubo4.object,\n            'x_object_type': \"truck\",\n            'x_timestamp': new Date().toISOString(),\n            'make': \"bmw\"\n\n        },\n        {\n            'x_device_id': global.get(\"mnubo_variables\").mnubo5.object,\n            'x_object_type': \"truck\",\n            'x_timestamp': new Date().toISOString(),\n        }\n        ]\n};","outputs":1,"noerr":0,"x":140,"y":740,"wires":[["ec97d4b0.5600f8"]]},{"id":"ec97d4b0.5600f8","type":"mnubo objects","z":"c8ce61e2.1fd8e","name":"Update","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":364,"y":740,"wires":[["22ea5d33.e0e872"]]},{"id":"22ea5d33.e0e872","type":"switch","z":"c8ce61e2.1fd8e","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":504,"y":740,"wires":[["c90b7b6b.527f28","1e8a79da.e7ef06"],["90ad8bd7.d468e8"]]},{"id":"c90b7b6b.527f28","type":"debug","z":"c8ce61e2.1fd8e","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":634,"y":718,"wires":[]},{"id":"90ad8bd7.d468e8","type":"debug","z":"c8ce61e2.1fd8e","name":"OK","active":true,"console":"false","complete":"payload","x":634,"y":758,"wires":[]},{"id":"1e8a79da.e7ef06","type":"function","z":"c8ce61e2.1fd8e","name":"Bulk Update (All Fail)","func":"return {\n    \"payload\": [\n        {\n            'x_device_id': global.get(\"mnubo_variables\").mnubo5.object,\n            'x_object_type': \"truck\",\n            'x_timestamp': new Date().toISOString(),\n            'make': \"bmw\"\n        },\n        {\n            'x_device_id': global.get(\"mnubo_variables\").mnubo6.object,\n            'x_object_type': \"truck\",\n            'x_timestamp': new Date().toISOString(),\n            'make': \"bmw\"\n        }\n        ]\n};","outputs":1,"noerr":0,"x":120,"y":820,"wires":[["1d738f65.141f61"]]},{"id":"1d738f65.141f61","type":"mnubo objects","z":"c8ce61e2.1fd8e","name":"Update","mnuboconfig":"7e770dbf.06e484","functionselection":"update","inputtext":"","x":364,"y":820,"wires":[["e328dcba.49e0f"]]},{"id":"e328dcba.49e0f","type":"switch","z":"c8ce61e2.1fd8e","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":504,"y":820,"wires":[["c3d0ebff.b944e8","185a25cc.c5544a"],["9cd5f981.8091d8"]]},{"id":"c3d0ebff.b944e8","type":"debug","z":"c8ce61e2.1fd8e","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":634,"y":798,"wires":[]},{"id":"9cd5f981.8091d8","type":"debug","z":"c8ce61e2.1fd8e","name":"OK","active":true,"console":"false","complete":"payload","x":634,"y":838,"wires":[]},{"id":"185a25cc.c5544a","type":"link out","z":"c8ce61e2.1fd8e","name":"Object - Bulk Update (all Fail)","links":["7ddf5528.8cc64c"],"x":876.1110992431641,"y":814.4444494247437,"wires":[]},{"id":"7ddf5528.8cc64c","type":"link in","z":"31ceee42.38ff32","name":"Owner - Single Claim","links":["185a25cc.c5544a"],"x":35,"y":900,"wires":[["f896d966.baf798"]]},{"id":"c4816ed0.d47ca","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":580,"y":940,"wires":[["82be497b.3aaa28"],["c24b93ee.125c","c8ee0a8b.7b1438"]]},{"id":"82be497b.3aaa28","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":710,"y":918,"wires":[]},{"id":"c24b93ee.125c","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":710,"y":958,"wires":[]},{"id":"c8ee0a8b.7b1438","type":"function","z":"31ceee42.38ff32","name":"Bulk Claim (Ok)","func":"return { \n    \"payload\": [\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo2.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo2.object,\n            'x_timestamp': new Date().toISOString()\n        },\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo3.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo3.object,\n            'x_timestamp': new Date().toISOString()\n        }\n    ]\n};","outputs":1,"noerr":0,"x":100,"y":1080,"wires":[["f4d66cdc.9e8bd"]]},{"id":"f4d66cdc.9e8bd","type":"mnubo owners","z":"31ceee42.38ff32","name":"Claim","mnuboconfig":"7e770dbf.06e484","functionselection":"claim","inputtext":"","x":330,"y":1080,"wires":[["1884cf21.da6f71"]]},{"id":"1884cf21.da6f71","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":480,"y":1080,"wires":[["1f8137c9.0c4e38"],["791eeb1a.ce7264","7155ea8b.e84164"]]},{"id":"1f8137c9.0c4e38","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":610,"y":1058,"wires":[]},{"id":"791eeb1a.ce7264","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":610,"y":1098,"wires":[]},{"id":"7155ea8b.e84164","type":"function","z":"31ceee42.38ff32","name":"Bulk Claim (Multi Status)","func":"return { \n    \"payload\": [\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo4.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo4.object,\n            'x_timestamp': new Date().toISOString()\n        },\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo5.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo5.object,\n            'x_timestamp': new Date().toISOString()\n        }\n    ]\n};","outputs":1,"noerr":0,"x":130,"y":1160,"wires":[["1289b7e.8d15548"]]},{"id":"1289b7e.8d15548","type":"mnubo owners","z":"31ceee42.38ff32","name":"Claim","mnuboconfig":"7e770dbf.06e484","functionselection":"claim","inputtext":"","x":330,"y":1160,"wires":[["5714a934.863ec8"]]},{"id":"5714a934.863ec8","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":480,"y":1160,"wires":[["f64cb939.1ce248","6007be.fd79c844"],["63622e81.c708d"]]},{"id":"f64cb939.1ce248","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":610,"y":1138,"wires":[]},{"id":"63622e81.c708d","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":610,"y":1178,"wires":[]},{"id":"6007be.fd79c844","type":"function","z":"31ceee42.38ff32","name":"Bulk Claim (All Fail)","func":"return { \n    \"payload\": [\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo4.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo4.object,\n            'x_timestamp': new Date().toISOString()\n        },\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo6.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo6.object,\n            'x_timestamp': new Date().toISOString()\n        }\n    ]\n};","outputs":1,"noerr":0,"x":110,"y":1240,"wires":[["c8e5cdf8.c4b9a"]]},{"id":"c8e5cdf8.c4b9a","type":"mnubo owners","z":"31ceee42.38ff32","name":"Claim","mnuboconfig":"7e770dbf.06e484","functionselection":"claim","inputtext":"","x":330,"y":1240,"wires":[["bf931b6b.f45e58"]]},{"id":"bf931b6b.f45e58","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":480,"y":1240,"wires":[["1d5ade69.b97b12","c8f95478.3a73c8"],["a873e4e6.b101d8"]]},{"id":"1d5ade69.b97b12","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":610,"y":1218,"wires":[]},{"id":"a873e4e6.b101d8","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":610,"y":1258,"wires":[]},{"id":"c8f95478.3a73c8","type":"link out","z":"31ceee42.38ff32","name":"Owner - Bulk Claim (all Fail)","links":["1e9ddb63.6f7845"],"x":717.2222561836243,"y":1234.4445209503174,"wires":[]},{"id":"88422271.2e9ef","type":"comment","z":"31ceee42.38ff32","name":"Bulk unClaim","info":"","x":70,"y":1480,"wires":[]},{"id":"4c2ab318.048d2c","type":"function","z":"31ceee42.38ff32","name":"Single unClaim","func":"return {\n    \"payload\":  [global.get(\"mnubo_variables\").mnubo1.owner, global.get(\"mnubo_variables\").mnubo1.object ]\n};","outputs":1,"noerr":0,"x":200,"y":1380,"wires":[["a501a44e.17b9d8"]]},{"id":"a501a44e.17b9d8","type":"mnubo owners","z":"31ceee42.38ff32","name":"unClaim","mnuboconfig":"7e770dbf.06e484","functionselection":"unclaim","inputtext":"","x":440,"y":1380,"wires":[["3c4b8bf4.87d914"]]},{"id":"6031941e.e7c73c","type":"inject","z":"31ceee42.38ff32","name":"Start Here","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":"","x":80,"y":1420,"wires":[["4c2ab318.048d2c"]]},{"id":"3c4b8bf4.87d914","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":580,"y":1380,"wires":[["fcff487e.136308"],["dec821aa.f39ae","ed445e04.9f15"]]},{"id":"fcff487e.136308","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":710,"y":1358,"wires":[]},{"id":"dec821aa.f39ae","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":710,"y":1398,"wires":[]},{"id":"ed445e04.9f15","type":"function","z":"31ceee42.38ff32","name":"Bulk unClaim (Ok)","func":"return { \n    \"payload\": [\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo2.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo2.object,\n            'x_timestamp': new Date().toISOString()\n        },\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo3.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo3.object,\n            'x_timestamp': new Date().toISOString()\n        }\n    ]\n};","outputs":1,"noerr":0,"x":110,"y":1520,"wires":[["caf4c2a4.c951c"]]},{"id":"caf4c2a4.c951c","type":"mnubo owners","z":"31ceee42.38ff32","name":"unClaim","mnuboconfig":"7e770dbf.06e484","functionselection":"unclaim","inputtext":"","x":360,"y":1520,"wires":[["de96a1f2.376f"]]},{"id":"de96a1f2.376f","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":500,"y":1520,"wires":[["156801f7.65226e"],["a9f0ee0.47dd01","a2791d65.48236"]]},{"id":"156801f7.65226e","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":630,"y":1498,"wires":[]},{"id":"a9f0ee0.47dd01","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":630,"y":1538,"wires":[]},{"id":"a2791d65.48236","type":"function","z":"31ceee42.38ff32","name":"Bulk unClaim (Multi Status)","func":"return { \n    \"payload\": [\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo4.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo4.object,\n            'x_timestamp': new Date().toISOString()\n        },\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo5.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo5.object,\n            'x_timestamp': new Date().toISOString()\n        }\n    ]\n};","outputs":1,"noerr":0,"x":140,"y":1600,"wires":[["de790dee.ad27f"]]},{"id":"de790dee.ad27f","type":"mnubo owners","z":"31ceee42.38ff32","name":"unClaim","mnuboconfig":"7e770dbf.06e484","functionselection":"unclaim","inputtext":"","x":360,"y":1600,"wires":[["1c1777b3.dfca78"]]},{"id":"1c1777b3.dfca78","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":500,"y":1600,"wires":[["f4afb306.e854a","b59a43c9.bb058"],["8aa36b61.6fedc8"]]},{"id":"f4afb306.e854a","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":630,"y":1578,"wires":[]},{"id":"8aa36b61.6fedc8","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":630,"y":1618,"wires":[]},{"id":"b59a43c9.bb058","type":"function","z":"31ceee42.38ff32","name":"Bulk unClaim (All Fail)","func":"return { \n    \"payload\": [\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo4.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo4.object,\n            'x_timestamp': new Date().toISOString()\n        },\n        {\n            \"username\": global.get(\"mnubo_variables\").mnubo6.owner,\n            \"x_device_id\": global.get(\"mnubo_variables\").mnubo6.object,\n            'x_timestamp': new Date().toISOString()\n        }\n    ]\n};","outputs":1,"noerr":0,"x":120,"y":1680,"wires":[["bfbf94a.f7a2668"]]},{"id":"bfbf94a.f7a2668","type":"mnubo owners","z":"31ceee42.38ff32","name":"unClaim","mnuboconfig":"7e770dbf.06e484","functionselection":"unclaim","inputtext":"","x":360,"y":1680,"wires":[["383e85bf.0fcdaa"]]},{"id":"383e85bf.0fcdaa","type":"switch","z":"31ceee42.38ff32","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":500,"y":1680,"wires":[["9e5e3d16.67582","1399c21a.244a3e"],["56c5fc18.8434c4"]]},{"id":"9e5e3d16.67582","type":"debug","z":"31ceee42.38ff32","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":630,"y":1658,"wires":[]},{"id":"56c5fc18.8434c4","type":"debug","z":"31ceee42.38ff32","name":"OK","active":true,"console":"false","complete":"payload","x":630,"y":1698,"wires":[]},{"id":"d5724efe.3b8d9","type":"comment","z":"31ceee42.38ff32","name":"Go to 'Single Creation' (Objects)","info":"","x":936.6666650772095,"y":814.4445104598999,"wires":[]},{"id":"a8b9e626.b15a28","type":"comment","z":"31ceee42.38ff32","name":"Go to Send Events","info":"","x":832.2222561836243,"y":1254.4445209503174,"wires":[]},{"id":"c42c20c8.816ff","type":"switch","z":"318c5a05.8ccd36","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":880,"y":180,"wires":[["f4949e96.7587c"],["a86130e6.fc967"]]},{"id":"f4949e96.7587c","type":"debug","z":"318c5a05.8ccd36","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":1010,"y":158,"wires":[]},{"id":"a86130e6.fc967","type":"debug","z":"318c5a05.8ccd36","name":"OK","active":true,"console":"false","complete":"payload","x":1010,"y":198,"wires":[]},{"id":"11a837c6.adeb78","type":"comment","z":"318c5a05.8ccd36","name":"Single Event","info":"","x":70,"y":80,"wires":[]},{"id":"a103b920.5b1de8","type":"comment","z":"318c5a05.8ccd36","name":"Bulk Event","info":"","x":60,"y":560,"wires":[]},{"id":"37770a35.62c786","type":"mnubo events","z":"318c5a05.8ccd36","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":false,"x":560,"y":360,"wires":[["e9ea7bd8.3900c8"]]},{"id":"f8770b92.5becf8","type":"function","z":"318c5a05.8ccd36","name":"Single Events (Fail)","func":"\nreturn {\"payload\": [{\n    \"x_object\": {\"x_device_id\": global.get(\"mnubo_variables\").mnubo4.object },\n    \"x_event_type\": \"speed_report\",\n    \"x_timestamp\": new Date().toISOString(),\n    \"speed\": 25.4\n  }]\n};","outputs":1,"noerr":0,"x":130,"y":460,"wires":[["37770a35.62c786","a3d8137c.c445d","7552c4cf.c8e19c","2d128547.8b069a"]]},{"id":"ee53865d.5221c8","type":"mnubo events","z":"318c5a05.8ccd36","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":false,"x":582,"y":415,"wires":[["e9ea7bd8.3900c8"]]},{"id":"4aff948f.10666c","type":"mnubo events","z":"318c5a05.8ccd36","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":true,"x":590,"y":461,"wires":[["e9ea7bd8.3900c8"]]},{"id":"88d4f3e3.7bd5a","type":"mnubo events","z":"318c5a05.8ccd36","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":true,"x":580,"y":506,"wires":[["e9ea7bd8.3900c8","b9210a58.7eb758"]]},{"id":"a3d8137c.c445d","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":394.5,"y":415,"wires":[["ee53865d.5221c8"]]},{"id":"7552c4cf.c8e19c","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":400,"y":462,"wires":[["4aff948f.10666c"]]},{"id":"2d128547.8b069a","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":400,"y":507,"wires":[["88d4f3e3.7bd5a"]]},{"id":"e9ea7bd8.3900c8","type":"switch","z":"318c5a05.8ccd36","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":780,"y":440,"wires":[["cce7fa59.1b1978"],["cd303750.80a038"]]},{"id":"cce7fa59.1b1978","type":"debug","z":"318c5a05.8ccd36","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":910,"y":418,"wires":[]},{"id":"cd303750.80a038","type":"debug","z":"318c5a05.8ccd36","name":"OK","active":true,"console":"false","complete":"payload","x":910,"y":458,"wires":[]},{"id":"183ffb7.a8e6b05","type":"mnubo events","z":"318c5a05.8ccd36","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":false,"x":520,"y":580,"wires":[["c816ea14.d84d68"]]},{"id":"b9210a58.7eb758","type":"function","z":"318c5a05.8ccd36","name":"Bulk Events (Ok)","func":"\nreturn {\"payload\": [\n    {\n        \"x_object\": {\"x_device_id\": global.get(\"mnubo_variables\").mnubo1.object },\n        \"x_event_type\": \"engine_start\",\n        \"x_timestamp\": new Date().toISOString(),\n    },\n    {\n        \"x_object\": {\"x_device_id\": global.get(\"mnubo_variables\").mnubo2.object },\n        \"x_event_type\": \"engine_start\",\n        \"x_timestamp\": new Date().toISOString(),\n    }]\n};","outputs":1,"noerr":0,"x":100,"y":680,"wires":[["183ffb7.a8e6b05","8b07c774.f73ca8","aa252899.7ecb68","683e718e.0393e"]]},{"id":"dfbb01b2.210f2","type":"mnubo events","z":"318c5a05.8ccd36","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":false,"x":542,"y":635,"wires":[["c816ea14.d84d68"]]},{"id":"cfdee114.21bf7","type":"mnubo events","z":"318c5a05.8ccd36","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":true,"x":550,"y":681,"wires":[["c816ea14.d84d68"]]},{"id":"af8af57e.838388","type":"mnubo events","z":"318c5a05.8ccd36","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":true,"x":540,"y":726,"wires":[["c816ea14.d84d68","424b0897.6069f8"]]},{"id":"8b07c774.f73ca8","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":354.5,"y":635,"wires":[["dfbb01b2.210f2"]]},{"id":"aa252899.7ecb68","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":682,"wires":[["cfdee114.21bf7"]]},{"id":"683e718e.0393e","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":727,"wires":[["af8af57e.838388"]]},{"id":"c816ea14.d84d68","type":"switch","z":"318c5a05.8ccd36","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":740,"y":660,"wires":[["1ccf796b.1e8b27"],["2f6c95c1.56e0fa"]]},{"id":"1ccf796b.1e8b27","type":"debug","z":"318c5a05.8ccd36","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":870,"y":638,"wires":[]},{"id":"2f6c95c1.56e0fa","type":"debug","z":"318c5a05.8ccd36","name":"OK","active":true,"console":"false","complete":"payload","x":870,"y":678,"wires":[]},{"id":"d1efcf0b.7a421","type":"mnubo events","z":"318c5a05.8ccd36","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":false,"x":520,"y":980,"wires":[["e93e6974.852f38"]]},{"id":"ea8ce673.b403f8","type":"function","z":"318c5a05.8ccd36","name":"Bulk Events (All Fail)","func":"\nreturn {\"payload\": [\n    {\n        \"x_object\": {\"x_device_id\": global.get(\"mnubo_variables\").mnubo1.object },\n        \"x_event_type\": \"engine_start\",\n        \"x_timestamp\": new Date().toISOString(),\n        \"speed\": 25.4\n    },\n    {\n        \"x_object\": {\"x_device_id\": global.get(\"mnubo_variables\").mnubo2.object },\n        \"x_event_type\": \"seed_report\",\n        \"x_timestamp\": new Date().toISOString(),\n        \"speed\": 25.4\n    }]\n};","outputs":1,"noerr":0,"x":120,"y":1080,"wires":[["d1efcf0b.7a421","48e3835d.f435bc","be1f3a77.fd4288","5d8dfc32.02fe54"]]},{"id":"6391f994.f4fcb8","type":"mnubo events","z":"318c5a05.8ccd36","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":false,"x":542,"y":1035,"wires":[["e93e6974.852f38"]]},{"id":"4bb78ce0.c19d04","type":"mnubo events","z":"318c5a05.8ccd36","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":true,"x":550,"y":1081,"wires":[["e93e6974.852f38"]]},{"id":"c456fe21.6ad96","type":"mnubo events","z":"318c5a05.8ccd36","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":true,"x":540,"y":1126,"wires":[["e93e6974.852f38","7b31f0ce.c1936"]]},{"id":"48e3835d.f435bc","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":354.5,"y":1035,"wires":[["6391f994.f4fcb8"]]},{"id":"be1f3a77.fd4288","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":1082,"wires":[["4bb78ce0.c19d04"]]},{"id":"5d8dfc32.02fe54","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":1127,"wires":[["c456fe21.6ad96"]]},{"id":"e93e6974.852f38","type":"switch","z":"318c5a05.8ccd36","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":740,"y":1060,"wires":[["cf73adcd.fbe06"],["883926da.3d01d8"]]},{"id":"cf73adcd.fbe06","type":"debug","z":"318c5a05.8ccd36","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":870,"y":1038,"wires":[]},{"id":"883926da.3d01d8","type":"debug","z":"318c5a05.8ccd36","name":"OK","active":true,"console":"false","complete":"payload","x":870,"y":1078,"wires":[]},{"id":"e0060bcc.36cfa8","type":"mnubo events","z":"318c5a05.8ccd36","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":false,"x":520,"y":780,"wires":[["f423d2de.98401"]]},{"id":"424b0897.6069f8","type":"function","z":"318c5a05.8ccd36","name":"Bulk Events (Multi Status)","func":"\nreturn {\"payload\": [\n    {\n        \"x_object\": {\"x_device_id\": global.get(\"mnubo_variables\").mnubo1.object },\n        \"x_event_type\": \"engine_start\",\n        \"x_timestamp\": new Date().toISOString(),\n    },\n    {\n        \"x_object\": {\"x_device_id\": global.get(\"mnubo_variables\").mnubo4.object },\n        \"x_event_type\": \"speed_report\",\n        \"x_timestamp\": new Date().toISOString(),\n        \"speed\": 25.4\n    }]\n};","outputs":1,"noerr":0,"x":130,"y":880,"wires":[["e0060bcc.36cfa8","c624b7bb.431ba8","64898118.93d4","46ec6951.e8f368"]]},{"id":"1db67585.ac56da","type":"mnubo events","z":"318c5a05.8ccd36","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":false,"x":542,"y":835,"wires":[["f423d2de.98401"]]},{"id":"ade4e153.d5033","type":"mnubo events","z":"318c5a05.8ccd36","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":false,"objectsMustExist":true,"x":550,"y":881,"wires":[["f423d2de.98401"]]},{"id":"d045667a.12c568","type":"mnubo events","z":"318c5a05.8ccd36","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"send","inputtext":"","reportResults":true,"objectsMustExist":true,"x":540,"y":926,"wires":[["f423d2de.98401","ea8ce673.b403f8"]]},{"id":"c624b7bb.431ba8","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":354.5,"y":835,"wires":[["1db67585.ac56da"]]},{"id":"64898118.93d4","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":882,"wires":[["ade4e153.d5033"]]},{"id":"46ec6951.e8f368","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":927,"wires":[["d045667a.12c568"]]},{"id":"f423d2de.98401","type":"switch","z":"318c5a05.8ccd36","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":740,"y":860,"wires":[["e40eabc4.1913a8"],["19e9ee2b.cc23a2"]]},{"id":"e40eabc4.1913a8","type":"debug","z":"318c5a05.8ccd36","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":870,"y":838,"wires":[]},{"id":"19e9ee2b.cc23a2","type":"debug","z":"318c5a05.8ccd36","name":"OK","active":true,"console":"false","complete":"payload","x":870,"y":878,"wires":[]},{"id":"2a039a9a.c665a6","type":"comment","z":"318c5a05.8ccd36","name":"EVENT  FROM DEVICE","info":"","x":100,"y":1180,"wires":[]},{"id":"855254c4.f23f38","type":"mnubo events","z":"318c5a05.8ccd36","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":false,"x":560,"y":1220,"wires":[["ed4f7182.8a3"]]},{"id":"7b31f0ce.c1936","type":"function","z":"318c5a05.8ccd36","name":"Single Events (Ok)","func":"\nreturn {\"payload\": [\n    global.get(\"mnubo_variables\").mnubo1.object,\n    [{\n        \"x_event_type\": \"engine_start\",\n        \"x_timestamp\": new Date().toISOString(),\n    }]\n  ]\n};","outputs":1,"noerr":0,"x":190,"y":1320,"wires":[["855254c4.f23f38","a4144815.94dc08","2df7ac7c.c053e4","dadb5697.4b1c88"]]},{"id":"a5890ea7.7faa2","type":"mnubo events","z":"318c5a05.8ccd36","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":false,"x":582,"y":1275,"wires":[["ed4f7182.8a3"]]},{"id":"97b510a2.fdbf4","type":"mnubo events","z":"318c5a05.8ccd36","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":true,"x":590,"y":1321,"wires":[["ed4f7182.8a3"]]},{"id":"34014184.f2511e","type":"mnubo events","z":"318c5a05.8ccd36","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":true,"x":580,"y":1366,"wires":[["ed4f7182.8a3","db3c3865.76efe8"]]},{"id":"a4144815.94dc08","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":394.5,"y":1275,"wires":[["a5890ea7.7faa2"]]},{"id":"2df7ac7c.c053e4","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":400,"y":1322,"wires":[["97b510a2.fdbf4"]]},{"id":"dadb5697.4b1c88","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":400,"y":1367,"wires":[["34014184.f2511e"]]},{"id":"ed4f7182.8a3","type":"switch","z":"318c5a05.8ccd36","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":780,"y":1300,"wires":[["8cebacf9.e0e27"],["52a704dd.82f9ec"]]},{"id":"8cebacf9.e0e27","type":"debug","z":"318c5a05.8ccd36","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":910,"y":1278,"wires":[]},{"id":"52a704dd.82f9ec","type":"debug","z":"318c5a05.8ccd36","name":"OK","active":true,"console":"false","complete":"payload","x":910,"y":1318,"wires":[]},{"id":"c4b5c00f.8f236","type":"comment","z":"318c5a05.8ccd36","name":"Single Event","info":"","x":70,"y":1220,"wires":[]},{"id":"5fea3326.1b93bc","type":"comment","z":"318c5a05.8ccd36","name":"Bulk Event","info":"","x":60,"y":1640,"wires":[]},{"id":"3915f342.073dec","type":"mnubo events","z":"318c5a05.8ccd36","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":false,"x":560,"y":1440,"wires":[["37c86e44.3ca342"]]},{"id":"db3c3865.76efe8","type":"function","z":"318c5a05.8ccd36","name":"Single Events (Fail)","func":"\nreturn {\"payload\": [\n    global.get(\"mnubo_variables\").mnubo1.object,\n    [{\n        \"x_event_type\": \"speed_report\",\n        \"x_timestamp\": new Date().toISOString(),\n        \"speed\": 25.4\n    }]\n  ]\n};","outputs":1,"noerr":0,"x":170,"y":1540,"wires":[["3915f342.073dec","572b6950.9f6f28","95dcc666.68f178","eb78c570.cdedc8"]]},{"id":"e4562c69.0a8bd","type":"mnubo events","z":"318c5a05.8ccd36","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":false,"x":582,"y":1495,"wires":[["37c86e44.3ca342"]]},{"id":"54fc0a94.fe5fc4","type":"mnubo events","z":"318c5a05.8ccd36","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":true,"x":590,"y":1541,"wires":[["37c86e44.3ca342"]]},{"id":"748679fe.cff178","type":"mnubo events","z":"318c5a05.8ccd36","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":true,"x":580,"y":1586,"wires":[["37c86e44.3ca342","eccca86f.d9ddf8"]]},{"id":"572b6950.9f6f28","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":394.5,"y":1495,"wires":[["e4562c69.0a8bd"]]},{"id":"95dcc666.68f178","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":400,"y":1542,"wires":[["54fc0a94.fe5fc4"]]},{"id":"eb78c570.cdedc8","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":400,"y":1587,"wires":[["748679fe.cff178"]]},{"id":"37c86e44.3ca342","type":"switch","z":"318c5a05.8ccd36","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":780,"y":1520,"wires":[["9fe5f7b.aa28b08"],["61c80ea5.ec173"]]},{"id":"9fe5f7b.aa28b08","type":"debug","z":"318c5a05.8ccd36","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":910,"y":1498,"wires":[]},{"id":"61c80ea5.ec173","type":"debug","z":"318c5a05.8ccd36","name":"OK","active":true,"console":"false","complete":"payload","x":910,"y":1538,"wires":[]},{"id":"955c7c80.836e4","type":"mnubo events","z":"318c5a05.8ccd36","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":false,"x":520,"y":1660,"wires":[["6c8100d5.f608a"]]},{"id":"eccca86f.d9ddf8","type":"function","z":"318c5a05.8ccd36","name":"Bulk Events (Ok)","func":"return {\"payload\": [\n    global.get(\"mnubo_variables\").mnubo1.object,\n    [\n        {\n            \"x_event_type\": \"engine_start\",\n            \"x_timestamp\": new Date().toISOString(),\n        },\n        {\n            \"x_event_type\": \"engine_stop\",\n            \"x_timestamp\": new Date().toISOString(),\n        }\n    ]\n  ]\n};","outputs":1,"noerr":0,"x":120,"y":1740,"wires":[["955c7c80.836e4","e4182f7b.938b2","1781523d.05678e","a1659b3.dec2a68"]]},{"id":"b2f09336.be551","type":"mnubo events","z":"318c5a05.8ccd36","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":false,"x":542,"y":1715,"wires":[["6c8100d5.f608a"]]},{"id":"c52b61f9.78b6f","type":"mnubo events","z":"318c5a05.8ccd36","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":true,"x":550,"y":1761,"wires":[["6c8100d5.f608a"]]},{"id":"6af61732.070e28","type":"mnubo events","z":"318c5a05.8ccd36","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":true,"x":540,"y":1806,"wires":[["6c8100d5.f608a","c13a104c.e4bfe"]]},{"id":"e4182f7b.938b2","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":354.5,"y":1715,"wires":[["b2f09336.be551"]]},{"id":"1781523d.05678e","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":1762,"wires":[["c52b61f9.78b6f"]]},{"id":"a1659b3.dec2a68","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":1807,"wires":[["6af61732.070e28"]]},{"id":"6c8100d5.f608a","type":"switch","z":"318c5a05.8ccd36","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":740,"y":1740,"wires":[["dbda02d5.1ab41"],["92965c54.6b237"]]},{"id":"dbda02d5.1ab41","type":"debug","z":"318c5a05.8ccd36","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":870,"y":1718,"wires":[]},{"id":"92965c54.6b237","type":"debug","z":"318c5a05.8ccd36","name":"OK","active":true,"console":"false","complete":"payload","x":870,"y":1758,"wires":[]},{"id":"c45fb426.c97758","type":"mnubo events","z":"318c5a05.8ccd36","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":false,"x":520,"y":2060,"wires":[["ba2a8b67.d11d18"]]},{"id":"37eb6806.9e7cd8","type":"function","z":"318c5a05.8ccd36","name":"Bulk Events (All Fail)","func":"return {\"payload\": [\n    global.get(\"mnubo_variables\").mnubo1.object,\n    [\n        {\n            \"x_event_type\": \"speed_report\",\n            \"x_timestamp\": new Date().toISOString(),\n            \"speed\": 25.4\n        },\n        {\n            \"x_event_type\": \"speed_report\",\n            \"x_timestamp\": new Date().toISOString(),\n            \"speed\": 25.4\n        }\n    ]\n  ]\n};","outputs":1,"noerr":0,"x":140,"y":2160,"wires":[["c45fb426.c97758","b669bd09.51a17","8f1809da.8bf778","3c61b6a.8b6b54a"]]},{"id":"9a34bc94.64251","type":"mnubo events","z":"318c5a05.8ccd36","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":false,"x":542,"y":2115,"wires":[["ba2a8b67.d11d18"]]},{"id":"e7cfe354.029e8","type":"mnubo events","z":"318c5a05.8ccd36","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":true,"x":550,"y":2161,"wires":[["ba2a8b67.d11d18"]]},{"id":"39f45253.0a81ae","type":"mnubo events","z":"318c5a05.8ccd36","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":true,"x":540,"y":2206,"wires":[["ba2a8b67.d11d18","e623f1ce.46555"]]},{"id":"b669bd09.51a17","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":354.5,"y":2115,"wires":[["9a34bc94.64251"]]},{"id":"8f1809da.8bf778","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":2162,"wires":[["e7cfe354.029e8"]]},{"id":"3c61b6a.8b6b54a","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":2207,"wires":[["39f45253.0a81ae"]]},{"id":"ba2a8b67.d11d18","type":"switch","z":"318c5a05.8ccd36","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":740,"y":2120,"wires":[["f6d71684.1cc688"],["19db982f.c8f2b8"]]},{"id":"f6d71684.1cc688","type":"debug","z":"318c5a05.8ccd36","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":870,"y":2098,"wires":[]},{"id":"19db982f.c8f2b8","type":"debug","z":"318c5a05.8ccd36","name":"OK","active":true,"console":"false","complete":"payload","x":870,"y":2138,"wires":[]},{"id":"fe585faf.caeb","type":"mnubo events","z":"318c5a05.8ccd36","name":"Default","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":false,"x":523.3333129882812,"y":1867.7777700424194,"wires":[["fe600f2c.7a85f"]]},{"id":"c13a104c.e4bfe","type":"function","z":"318c5a05.8ccd36","name":"Bulk Events (Multi Status)","func":"return {\"payload\": [\n    global.get(\"mnubo_variables\").mnubo1.object,\n    [\n        {\n            \"x_event_type\": \"engine_start\",\n            \"x_timestamp\": new Date().toISOString(),\n        },\n        {\n            \"x_event_type\": \"speed_report\",\n            \"x_timestamp\": new Date().toISOString(),\n            \"speed\": 25.4\n        }\n    ]\n  ]\n};","outputs":1,"noerr":0,"x":130,"y":1960,"wires":[["355e85e4.5a959a","8f295262.d65de","e1352ee1.cf01f","fe585faf.caeb"]]},{"id":"e68594ce.17f448","type":"mnubo events","z":"318c5a05.8ccd36","name":"Report Results","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":false,"x":542,"y":1915,"wires":[["fe600f2c.7a85f"]]},{"id":"b2a0d4d9.69aa38","type":"mnubo events","z":"318c5a05.8ccd36","name":"Objects Must Exist","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":false,"objectsMustExist":true,"x":550,"y":1961,"wires":[["fe600f2c.7a85f"]]},{"id":"dee97e0b.c79e","type":"mnubo events","z":"318c5a05.8ccd36","name":"Both Flags On","mnuboconfig":"7e770dbf.06e484","functionselection":"sendfromdevice","inputtext":"","reportResults":true,"objectsMustExist":true,"x":540,"y":2006,"wires":[["fe600f2c.7a85f","37eb6806.9e7cd8"]]},{"id":"355e85e4.5a959a","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":354.5,"y":1915,"wires":[["e68594ce.17f448"]]},{"id":"8f295262.d65de","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":1962,"wires":[["b2a0d4d9.69aa38"]]},{"id":"e1352ee1.cf01f","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":2007,"wires":[["dee97e0b.c79e"]]},{"id":"fe600f2c.7a85f","type":"switch","z":"318c5a05.8ccd36","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":740,"y":1940,"wires":[["5e7d868b.1aaeb8"],["acc49c9a.2e10c"]]},{"id":"5e7d868b.1aaeb8","type":"debug","z":"318c5a05.8ccd36","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":870,"y":1918,"wires":[]},{"id":"acc49c9a.2e10c","type":"debug","z":"318c5a05.8ccd36","name":"OK","active":true,"console":"false","complete":"payload","x":870,"y":1958,"wires":[]},{"id":"9f13ddb9.aff9","type":"inject","z":"318c5a05.8ccd36","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"x":70,"y":1260,"wires":[["7b31f0ce.c1936"]]},{"id":"265d6b3a.07a584","type":"link in","z":"318c5a05.8ccd36","name":"Event - Count Events","links":["e623f1ce.46555"],"x":35,"y":2360,"wires":[["9fe08d74.c897e"]]},{"id":"7278acff.5faa34","type":"switch","z":"318c5a05.8ccd36","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":716.5555486679077,"y":2362.000283241272,"wires":[["1121572.8f9cba9"],["72d72247.88de0c"]]},{"id":"1121572.8f9cba9","type":"debug","z":"318c5a05.8ccd36","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":846.5555486679077,"y":2340.000283241272,"wires":[]},{"id":"72d72247.88de0c","type":"debug","z":"318c5a05.8ccd36","name":"Search Query","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":876.5555486679077,"y":2380.000283241272,"wires":[]},{"id":"7b2cb982.d18588","type":"switch","z":"318c5a05.8ccd36","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":719.8888959884644,"y":2446.4446630477905,"wires":[["8eb28186.03de1"],["7d4690f5.42fbc"]]},{"id":"8eb28186.03de1","type":"debug","z":"318c5a05.8ccd36","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":849.8888959884644,"y":2424.4446630477905,"wires":[]},{"id":"7d4690f5.42fbc","type":"debug","z":"318c5a05.8ccd36","name":"Datamodel","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":869.8888959884644,"y":2464.4446630477905,"wires":[]},{"id":"66c66143.d3cf2","type":"switch","z":"318c5a05.8ccd36","name":"Fail/OK","property":"errors","propertyType":"msg","rules":[{"t":"nnull"},{"t":"null"}],"checkall":"true","repair":false,"outputs":2,"x":715.6666259765625,"y":2539.33336353302,"wires":[["14950d8d.e00c72"],["ae69cc00.ed0f"]]},{"id":"14950d8d.e00c72","type":"debug","z":"318c5a05.8ccd36","name":"Error","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"errors","x":845.6666259765625,"y":2517.33336353302,"wires":[]},{"id":"ae69cc00.ed0f","type":"debug","z":"318c5a05.8ccd36","name":"Dataset","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":855.6666259765625,"y":2557.33336353302,"wires":[]},{"id":"e623f1ce.46555","type":"link out","z":"318c5a05.8ccd36","name":"Events - Bulk Events (All Fail)","links":["265d6b3a.07a584"],"x":849.4444465637207,"y":2205.5555334091187,"wires":[]},{"id":"6c62d347.3af40c","type":"link in","z":"c8ce61e2.1fd8e","name":"Objects - Delete Multiple Objects","links":["1399c21a.244a3e"],"x":175,"y":1020,"wires":[["bd31b7c1.021cf8"]]},{"id":"1a0d502a.b3a7f","type":"comment","z":"c8ce61e2.1fd8e","name":"Go to 'Single Claim' (Owner)","info":"","x":1015.5555744171143,"y":833.3333578109741,"wires":[]},{"id":"41ed24aa.b903fc","type":"link out","z":"c8ce61e2.1fd8e","name":"Object - Delete Objects","links":["f9467025.e081c"],"x":732.7777900695801,"y":1086.6666851043701,"wires":[]},{"id":"29ed2eb.a5e05d2","type":"comment","z":"31ceee42.38ff32","name":"Come from 'Get dataset' (Events)","info":"","x":310,"y":1320,"wires":[]},{"id":"64a80224.d6056c","type":"link in","z":"31ceee42.38ff32","name":"Owners - Single unClaim","links":["ec42b588.5a9068"],"x":35,"y":1340,"wires":[["b746ea45.4892d8"]]},{"id":"8ce4fe5e.006f6","type":"comment","z":"31ceee42.38ff32","name":"Come from 'Bulk Updates (All Fail)' (Objects)","info":"","x":390,"y":900,"wires":[]},{"id":"ded26f16.c8f62","type":"comment","z":"31ceee42.38ff32","name":"Come from 'Set Global Env' (Authentication)","info":"","x":330,"y":40,"wires":[]},{"id":"65772f63.1bd7a","type":"comment","z":"c8ce61e2.1fd8e","name":"Come from 'Bulk Update (All Fail)' (Owners)","info":"","x":327.77777099609375,"y":39.999999046325684,"wires":[]},{"id":"b8ddcde2.e7e8c","type":"comment","z":"318c5a05.8ccd36","name":"Come from 'Bulk Claim (All Fail)' (Owners)","info":"","x":203.3333282470703,"y":116.6666669845581,"wires":[]},{"id":"126414d9.5fa4fb","type":"comment","z":"318c5a05.8ccd36","name":"Come from 'Bulk Events (All Fail)' (Events)","info":"","x":160,"y":2400,"wires":[]},{"id":"5cbf1595.050d4c","type":"comment","z":"318c5a05.8ccd36","name":"Go to 'Search - Count Events' (Events)","info":"","x":1020.0000495910645,"y":2222.222098350525,"wires":[]},{"id":"7f341bf0.77e534","type":"comment","z":"318c5a05.8ccd36","name":"Go to 'Single unClaim' (Owner)","info":"","x":963.3333396911621,"y":2621.1112155914307,"wires":[]},{"id":"8ef9752a.5e3b88","type":"comment","z":"c8ce61e2.1fd8e","name":"Go to 'Multiple Owners' (Owner)","info":"","x":882.2222328186035,"y":1104.4444665908813,"wires":[]},{"id":"7347a15f.ac586","type":"link out","z":"99cb47de.986028","name":"Authentication - Set Global Env","links":["c182ceaf.0f319"],"x":642.777753829956,"y":252.22222518920898,"wires":[]},{"id":"ec42b588.5a9068","type":"link out","z":"318c5a05.8ccd36","name":"Events - Get Dataset","links":["64a80224.d6056c"],"x":815,"y":2600,"wires":[]},{"id":"b8923d4e.2ec06","type":"comment","z":"99cb47de.986028","name":"Go to 'Single Creation' (Owner)","info":"","x":797.777753829956,"y":252.22222518920898,"wires":[]},{"id":"1399c21a.244a3e","type":"link out","z":"31ceee42.38ff32","name":"Owner - Bulk unClaim (all Fail)","links":["6c62d347.3af40c"],"x":733.8889312744141,"y":1674.4443759918213,"wires":[]},{"id":"b7ae85ea.afff68","type":"comment","z":"31ceee42.38ff32","name":"Go to 'Multiple Objetcs Delete' (Objects)","info":"","x":918.8889312744141,"y":1694.4443759918213,"wires":[]},{"id":"f9467025.e081c","type":"link in","z":"31ceee42.38ff32","name":"Owners - Delete Multiple Owners","links":["41ed24aa.b903fc"],"x":55,"y":1820,"wires":[["7b9f1f35.bcc5f"]]},{"id":"463cc5af.4f5aec","type":"comment","z":"31ceee42.38ff32","name":"Come from 'Delete Multiple Objetcs' (Objects)","info":"","x":190,"y":1860,"wires":[]},{"id":"ea0a895e.bc3718","type":"delay","z":"31ceee42.38ff32","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":140,"y":60,"wires":[["1d724e71.53e2b2"]]},{"id":"f896d966.baf798","type":"delay","z":"31ceee42.38ff32","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":120,"y":900,"wires":[["37cba518.d8945a"]]},{"id":"b746ea45.4892d8","type":"delay","z":"31ceee42.38ff32","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":140,"y":1340,"wires":[["4c2ab318.048d2c"]]},{"id":"7b9f1f35.bcc5f","type":"delay","z":"31ceee42.38ff32","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":160,"y":1820,"wires":[["29b3554b.dc171a"]]},{"id":"d54e6307.9a38b","type":"delay","z":"c8ce61e2.1fd8e","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":131.11111450195312,"y":56.66666889190674,"wires":[["d8739bba.fce1e8"]]},{"id":"bd31b7c1.021cf8","type":"delay","z":"c8ce61e2.1fd8e","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":280,"y":1020,"wires":[["1cd3b22e.2dc67e"]]},{"id":"cfbb5bac.78dc38","type":"comment","z":"c8ce61e2.1fd8e","name":"Come from 'Bulk Events (All Fail)' (Events)","info":"","x":187.77777099609375,"y":1053.3334293365479,"wires":[]},{"id":"84b33ab5.036d68","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":120,"y":140,"wires":[["31cdb965.b63196"]]},{"id":"9fe08d74.c897e","type":"delay","z":"318c5a05.8ccd36","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":120,"y":2360,"wires":[["66e5d42d.7d23ac","a6949efa.1f7ed","7f3e5021.4a308"]]},{"id":"203deb2c.cebea4","type":"function","z":"31ceee42.38ff32","name":"Bulk unClaim (All Fail)","func":"return { \"payload\": \"DONE\" };","outputs":1,"noerr":0,"x":820,"y":2040,"wires":[["bffa94c6.0a7ca8"]]},{"id":"bffa94c6.0a7ca8","type":"debug","z":"31ceee42.38ff32","name":"DONE","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":1030,"y":2040,"wires":[]}]
```
---

# <a name="section6"></a>6. Important notes

The nodes were renamed between version 1.0.5 and 1.1.1, if you want to convert your flow, you can edit your flows (usually in ~/.node-red/flows_$HOSTNAME.json) you created in version 1.0.5 (or less), and replace the following:

| Replace                          | To                       |
| -------------------------------- | ------------------------ |
| "type":"SmartObjects auth"       | "type":"mnubo auth"      |
| "type":"SmartObjects analytics"  | "type":"mnubo analytics" |
| "type":"SmartObjects events"     | "type":"mnubo events"    |
| "type":"SmartObjects objects"    | "type":"mnubo objects"   |
| "type":"SmartObjects owners"     | "type":"mnubo owners"    |

---

# <a name="section7"></a>7. Source code

**npm path:** https://www.npmjs.com/package/node-red-contrib-mnubo

**mnubo github sub path:**  https://github.com/mnubo/node-red-contrib-mnubo/tree/master/nodes/mnubo

---

# <a name="section8"></a>8. Known limitations

N/A

---
# <a name="section9"></a>9. References

https://www.npmjs.com/package/mnubo-sdk
http://nodered.org/
https://github.com/node-red/node-red
https://sop.mtl.mnubo.com/apps/doc/?i=t
